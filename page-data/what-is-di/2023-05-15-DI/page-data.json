{"componentChunkName":"component---src-templates-blog-template-js","path":"/what-is-di/2023-05-15-DI/","result":{"data":{"cur":{"id":"ebe7e6ff-db68-5073-a74b-6b51fc3fcd5e","html":"<h1 id=\"1-didependency-injection란\" style=\"position:relative;\"><a href=\"#1-didependency-injection%EB%9E%80\" aria-label=\"1 didependency injection란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. DI(Dependency Injection)란?</h1>\n<p>의존성 관리를 위해 사용되는 디자인 패턴입니다.<br>\nDI의 핵심 아이디어는 “제어의 역전(Inversion of Control)“입니다.<br>\n일반적으로 객체는 자신이 사용할 의존성을 직접 생성하거나 찾아내는 책임을 갖고 있습니다.<br>\n하지만 DI에서는 객체는 의존성을 요청하기 위해 컨테이너 또는 프레임워크에 의존합니다.<br>\n이렇게 함으로써 객체는 자신이 사용할 의존성을 외부에서 제공받게 되고, 의존성의 생성과 관리는 외부에 <code class=\"language-text\">위임</code>됩니다.</p>\n<p>DI를 통해 객체 간의 결합도를 낮출 수 있으며, 유닛 테스트 작성과 코드 재사용을 쉽게 할 수 있습니다. 또한 DI 컨테이너를 사용하면 의존성의 라이프사이클 관리와 의존성 간의 관계 설정을 자동화할 수 있습니다. DI 프레임워크로는 Spring, Nest 등이 있습니다.</p>\n<p>좋은 DI 설계는 모듈화와 확장성을 개선하며, 코드를 더 테스트 가능하고 유지보수하기 쉽게 만들어줍니다.</p>\n<h1 id=\"2-예시를-통해-알아보는-di-장점\" style=\"position:relative;\"><a href=\"#2-%EC%98%88%EC%8B%9C%EB%A5%BC-%ED%86%B5%ED%95%B4-%EC%95%8C%EC%95%84%EB%B3%B4%EB%8A%94-di-%EC%9E%A5%EC%A0%90\" aria-label=\"2 예시를 통해 알아보는 di 장점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 예시를 통해 알아보는 DI 장점.</h1>\n<h2 id=\"장점\" style=\"position:relative;\"><a href=\"#%EC%9E%A5%EC%A0%90\" aria-label=\"장점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>장점?</h2>\n<p><code class=\"language-text\">결합도 감소</code>, <code class=\"language-text\">유연성</code>, <code class=\"language-text\">재사용성</code>, <code class=\"language-text\">테스트 용이성</code></p>\n<h1 id=\"3-예시\" style=\"position:relative;\"><a href=\"#3-%EC%98%88%EC%8B%9C\" aria-label=\"3 예시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 예시</h1>\n<ul>\n<li>LottoNumber 가 존재한다.</li>\n<li>1~45 의 숫자를 가진다.</li>\n</ul>\n<h3 id=\"코드\" style=\"position:relative;\"><a href=\"#%EC%BD%94%EB%93%9C\" aria-label=\"코드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>코드</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">LottoNumber</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> value<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">LottoNumber</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> value<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> equals <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">LottoService</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">LottoNumber</span> <span class=\"token function\">randomLotto</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Random</span> random <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">int</span> randomNumber <span class=\"token operator\">=</span> random<span class=\"token punctuation\">.</span><span class=\"token function\">nextInt</span><span class=\"token punctuation\">(</span><span class=\"token number\">45</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n        \n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LottoNumber</span><span class=\"token punctuation\">(</span>randomNumber<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>테스트 코드</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">\n<span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">void</span> 랜덤로또<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">LottoService</span> lottoService <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LottoService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">LottoNumber</span> actaul <span class=\"token operator\">=</span> lottoService<span class=\"token punctuation\">.</span><span class=\"token function\">randomLotto</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">LottoNumber</span> expected <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LottoNumber</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>actaul<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span>expected<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">로또</code> 는 랜덤으로 생성되고 있기에 높은 확율로 테스트코드가 실패될 것입니다.<br>\n이유는 테스트 하기힘든 <code class=\"language-text\">Random</code> 내부 의존성 때문입니다.</p>\n<p>그렇다면, 테스트 가능하게 변경하려면 어떻게 해야할까요? 🤔<br>\n테스트 가능하기 위해 <code class=\"language-text\">Random</code>의 의존성을 제거해야 할것 같아요.</p>\n<p>이를 위해 의존성 주입(Dependency Injection)을 활용하도록 변경해보겠습니다.</p>\n<p>DI(Dependency Injection)를 위한 주입 방법에는 다양한 방식이 있습니다.</p>\n<ol>\n<li>생성자 주입<br>\n클래스의 인스턴스 생성 시점에 의존성을 명시적으로 전달하는 방식으로, 코드의 가독성과 테스트 용이성을 높일 수 있습니다.</li>\n<li>Setter 주입<br>\n주입할 의존성이 변경될 수 있는 경우에 유연성을 제공합니다. 하지만 외부에서 주입되지 않은 경우에 대비한 기본 처리 방법을 구현해야 합니다.</li>\n<li>필드 주입<br>\n클래스의 필드에 @Autowired 또는 @Inject와 같은 주입 어노테이션을 사용하여 의존성을 주입합니다.<br>\n필드 주입은 클래스의 테스트가 어려워질 수 있습니다. 의존성을 직접 주입하지 않고 필드로 선언하면, 테스트 중에 해당 필드에 적절한 모의 객체 또는 대체 구현체를 주입하기가 어렵습니다.</li>\n</ol>\n<p>생성자 주입을 활용해 보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RandomNumberGenerator</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">RandomNumberGenerator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">generate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Random</span> random <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> random<span class=\"token punctuation\">.</span><span class=\"token function\">nextInt</span><span class=\"token punctuation\">(</span><span class=\"token number\">45</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">LottoService</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">RandomNumberGenerator</span> randomNumberGenerator<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">LottoService</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RandomNumberGenerator</span> randomNumberGenerator<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>randomNumberGenerator <span class=\"token operator\">=</span> randomNumberGenerator<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">LottoNumber</span> <span class=\"token function\">randomLotto</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LottoNumber</span><span class=\"token punctuation\">(</span>randomNumberGenerator<span class=\"token punctuation\">.</span><span class=\"token function\">generate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">void</span> 랜덤로또<span class=\"token function\">DI</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">RandomNumberGenerator</span> randomNumberGenerator <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RandomNumberGenerator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token annotation punctuation\">@Override</span>\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">generate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token class-name\">LottoService</span> lottoService <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LottoService</span><span class=\"token punctuation\">(</span>randomNumberGenerator<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">LottoNumber</span> actaul <span class=\"token operator\">=</span> lottoService<span class=\"token punctuation\">.</span><span class=\"token function\">randomLotto</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">LottoNumber</span> expected <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LottoNumber</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>actaul<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span>expected<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">RandomNumberGenerator</code> 를 통해 <code class=\"language-text\">Random</code>의 의존성을 주입하였습니다.\n<code class=\"language-text\">LottoService</code>는 <code class=\"language-text\">RandomNumberGenerator</code>을 통해 숫자를 생성하고 있으므로, 예측가능한 테스트 작성이 가능해졌습니다.</p>\n<p>하지만, 확장성면에서 문제가 될 것 같아요.<br>\n숫자를 생성하는 컨셉이 다르게 변경 되거나 여러방식의 숫자생성기를 사용하게 된다면 문제가 있는 구조입니다.</p>\n<p><code class=\"language-text\">RandomNumberGenerator</code>에게 전달하고자 하는 메시지는 무엇을까요?<br>\n<code class=\"language-text\">숫자를 줘</code> 라는 메시지를 전달하고 있습니다.</p>\n<p>그렇다면 <code class=\"language-text\">숫자를 줘</code> 라는 메시지를 전달하는 방식을 추상화 해보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">NumberGenerator</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">int</span> <span class=\"token function\">generate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RandomNumberGenerator</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">NumberGenerator</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">RandomNumberGenerator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">generate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Random</span> random <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> random<span class=\"token punctuation\">.</span><span class=\"token function\">nextInt</span><span class=\"token punctuation\">(</span><span class=\"token number\">45</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">LottoService</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">NumberGenerator</span> numberGenerator<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">LottoService</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">NumberGenerator</span> numberGenerator<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>numberGenerator <span class=\"token operator\">=</span> numberGenerator<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">LottoNumber</span> <span class=\"token function\">randomLotto</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LottoNumber</span><span class=\"token punctuation\">(</span>numberGenerator<span class=\"token punctuation\">.</span><span class=\"token function\">generate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">void</span> 랜덤로또<span class=\"token function\">DI</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">NumberGenerator</span> numberGenerator <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">NumberGenerator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token annotation punctuation\">@Override</span>\n        <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">generate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token class-name\">LottoService</span> lottoService <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LottoService</span><span class=\"token punctuation\">(</span>numberGenerator<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">LottoNumber</span> actaul <span class=\"token operator\">=</span> lottoService<span class=\"token punctuation\">.</span><span class=\"token function\">randomLotto</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">LottoNumber</span> expected <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LottoNumber</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>actaul<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span>expected<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">NumberGenerator</code> 를 통해 <code class=\"language-text\">RandomNumberGenerator</code>의 의존성을 주입하였습니다.\n<code class=\"language-text\">LottoService</code>는 <code class=\"language-text\">NumberGenerator</code>을 통해 숫자를 생성하고 있으므로, 예측가능한 테스트 작성이 가능해졌습니다.</p>\n<p>하지만, 이러한 구조는 너무 복잡하지 않나요? 자바 람다 방식으로 변경한다면 훨씬 간단하게 표현 할 수 있습니다.</p>\n<p>As-Is</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">NumberGenerator</span> numberGenerator <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">NumberGenerator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">generate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token class-name\">LottoService</span> lottoService <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LottoService</span><span class=\"token punctuation\">(</span>numberGenerator<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>To-Be</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">void</span> 랜덤로또<span class=\"token function\">DI</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">LottoService</span> lottoService <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LottoService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">LottoNumber</span> actaul <span class=\"token operator\">=</span> lottoService<span class=\"token punctuation\">.</span><span class=\"token function\">randomLotto</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">LottoNumber</span> expected <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LottoNumber</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>actaul<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span>expected<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h1 id=\"정리\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정리</h1>\n<p>이제는 테스트 코드도 간단해졌고, 숫자 생성에 대한 의존성도 추상화 되어 추후 어떠한 숫자생성기 컨셉을 사용하더라도 변경이 용이하겠네요 😃</p>\n<p>앞서 이야기했던 <code class=\"language-text\">결합도 감소</code>, <code class=\"language-text\">유연성</code>, <code class=\"language-text\">재사용성</code>, <code class=\"language-text\">테스트 용이성</code>을 다시 살펴보겠습니다.</p>\n<ol>\n<li><code class=\"language-text\">결합도 감소</code><br>\nRandom에 대한 결합도가 감소했습니다.</li>\n<li><code class=\"language-text\">유연성</code><br>\nNumberGenerator 추상화를 통해 유연성이 생겼습니다.</li>\n<li><code class=\"language-text\">재사용성</code><br>\n<code class=\"language-text\">RandomNumberGenerator</code> 사용하고 있었다면, 숫자생성기가 변경 될경우 <code class=\"language-text\">LottoService</code>의 생성자를 변경하거나 다른 추가 서비스를 만들어야 될텐데 그럴필요가 없겠네요  😃</li>\n<li><code class=\"language-text\">테스트 용이성</code><br>\n자유롭게 랜덤에 대한 예측가능한 테스트 코드를 작성 할 수 있게 되었습니다.</li>\n</ol>","excerpt":"1. DI(Dependency Injection)란? 의존성 관리를 위해 사용되는 디자인 패턴입니다. DI의 핵심 아이디어는 “제어의 역전(Inversion of Control)“입니다. 일반적으로 객체는 자신이 사용할 의존성을 직접 생성하거나 찾아내는 책임을 갖고 있습니다. 하지만 DI에서는 객체는 의존성을 요청하기 위해 컨테이너 또는 프레임워크에 의존합니다. 이렇게 함으로써 객체는 자신이 사용할 의존성을 외부에서 제공받게 되고, 의존성의 생성과 관리는 외부에 됩니다. DI를 통해 객체 간의 결합도를 낮출 수 있으며, 유닛 테스트 작성과 코드 재사용을 쉽게 할 수 있습니다. 또한 DI 컨테이너를 사용하면 의존성의 라이프사이클 관리와 의존성 간의 관계 설정을 자동화할 수 있습니다. DI 프레임워크로는 Spring, Nest 등이 있습니다. 좋은 DI 설계는 모듈화와 확장성을 개선하며, 코드를 더 테스트 가능하고 유지보수하기 쉽게 만들어줍니다. 2. 예시를 통해 알아보는 DI 장점.…","frontmatter":{"date":"May 16, 2023","title":"도대체 DI?","categories":"프로그래밍","author":"wooobo","emoji":"🔮"},"fields":{"slug":"/what-is-di/2023-05-15-DI/"}},"next":{"id":"be8d278b-531a-58fb-8343-42d70c856081","html":"<h1 id=\"kafka-connect란\" style=\"position:relative;\"><a href=\"#kafka-connect%EB%9E%80\" aria-label=\"kafka connect란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>kafka connect란?</h1>\n<p>Confluent 카프카 설명 인용 <a href=\"https://docs.confluent.io/3.0.1/connect/intro.html\">링크</a></p>\n<blockquote>\n<p>Kafka Connect</p>\n</blockquote>\n<p>Kafka Connect는 Apache Kafka와 다른 데이터 시스템간에 데이터를 확장 가능하고 안정적으로 스트리밍하기위한 도구입니다. 대규모 데이터 세트를 Kafka 안팎으로 이동하는 커넥터를 간단하게 정의 할 수 있습니다. Kafka Connect는 전체 데이터베이스를 수집하거나 모든 애플리케이션 서버의 메트릭을 Kafka 토픽으로 수집하여 짧은 대기 시간으로 스트림 처리에 데이터를 사용할 수 있습니다. 내보내기 커넥터는 Kafka 주제의 데이터를 Elasticsearch와 같은 보조 인덱스 또는 오프라인 분석을 위해 Hadoop과 같은 배치 시스템으로 전달할 수 있습니다.</p>\n<p>Kafka Connect 및 Kafka 커넥터의 기초 <a href=\"https://www.baeldung.com/kafka-connectors-guide\">인용</a></p>\n<blockquote>\n<p>Kafka Connect는 커넥터를 사용하여 데이터베이스, 키-값 저장소, 검색 색인 및 파일 시스템과 같은 외부 시스템 과 Kafka를 연결하기위한 프레임 워크입니다 .</p>\n</blockquote>\n<p>Kafka 커넥터는 바로 사용할 수있는 구성 요소로, 외부 시스템의 데이터를 Kafka 주제로 가져오고 Kafka 주제의 데이터를 외부 시스템으로 내보내는 데 도움이 될 수 있습니다 . 공통 데이터 소스 및 싱크에 기존 커넥터 구현을 사용하거나 자체 커넥터를 구현할 수 있습니다.\n소스 커넥터 시스템으로부터 데이터를 수집한다. 소스 시스템은 전체 데이터베이스, 스트림 테이블 또는 메시지 브로커 일 수 있습니다. 소스 커넥터는 또한 애플리케이션 서버에서 Kafka 토픽으로 메트릭을 수집하여 짧은 대기 시간으로 스트림 처리에 데이터를 사용할 수 있습니다.\n싱크 커넥터는 같은 Elasticsearch 같은 인덱스 등 하둡과 같은 일괄 처리 시스템 또는 데이터베이스의 모든 종류의 수 있습니다 다른 시스템으로 카프카 주제에서 데이터를 제공합니다.\n일부 커넥터는 커뮤니티에서 유지 관리하고 다른 커넥터는 Confluent 또는 그 파트너가 지원합니다. 실제로 S3, JDBC 및 Cassandra와 같은 가장 널리 사용되는 시스템 용 커넥터를 찾을 수 있습니다.</p>\n<h2 id=\"카프카-커텍트란-무엇일까\" style=\"position:relative;\"><a href=\"#%EC%B9%B4%ED%94%84%EC%B9%B4-%EC%BB%A4%ED%85%8D%ED%8A%B8%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C\" aria-label=\"카프카 커텍트란 무엇일까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>카프카 커텍트란 무엇일까?</h2>\n<p>카프카 커넥트는 감시하고자 하는 ‘소스’의 변경을 탐지하여 토픽으로 전송하여 줍니다.</p>\n<p>모놀릭스서버에서 MSA구조로 전환시 하나의 거대한 데이터 베이스에 서버가 종속되어있다면,</p>\n<p>서버를 분리시키기에 어려움이 있을것입니다.</p>\n<p>이런경우 카프카 커넥트를 사용한다면</p>\n<p>거대한 DB를 감시하고 해당 DB소스를 이종 데이터베이스로 동기화 시키거나,</p>\n<p>데이터 변경을 이벤트 토픽으로 발생시키고  다른 서버에서 이벤트 토픽을 Consume하여 이벤트를 작동 시킬수 있을것입니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 599px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.77777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABCcAAAQnAEmzTo0AAABcUlEQVQoz22SS0vDUBCF85sEd7aWgvhL3LlwX0s3Qte6FNG9SosLxScKuhBdFCVKU8Q0SOjCR3pD25A2dz5JUjVqBw5nHtxh5p4x+GMikvLYl2wti7j2Axmzb+goYhgECUTr9KHWSBgSR+L7cHEBrouMRki/jw6Cf3OM2TeuNza4WlvjcnWVm81NBt1uWnLdlC0Ld3qaYa0GnQ40GmDbSWk0GCDxIEEgUexr7RuH5TL1Uom95WWOKxXebRvV69FxXe5aLaTZpD0zQ1iv4ylFx7Iw7+95f3jgbH6eWqFAvViU42IR1Wr5xn6pxPriIltLSxzFDdtt3jwPx7a5Nc2k4Us+nzR87fdxHIfG4yNvpsnp3By7uRzb+bwczc6iLMs3TlZWOKhUEpxVq/jxWllrNnmamiLc2fmd15pQKaIUMlQqXXngeXw8P/Nh29//lygWRYkoOA7dhQX0+XmqbpwfizdRFP7fzTdL5oy+4mx+0tl8AvjFQ2CSjuGgAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img.png\"\n        title=\"img.png\"\n        src=\"/static/108789d1dcc11ef1a98ecc23dc7fc95b/43142/kafkabasic.png\"\n        srcset=\"/static/108789d1dcc11ef1a98ecc23dc7fc95b/e9ff0/kafkabasic.png 180w,\n/static/108789d1dcc11ef1a98ecc23dc7fc95b/f21e7/kafkabasic.png 360w,\n/static/108789d1dcc11ef1a98ecc23dc7fc95b/43142/kafkabasic.png 599w\"\n        sizes=\"(max-width: 599px) 100vw, 599px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>","frontmatter":{"date":"March 13, 2022","title":"도대체 카프카 커넥트란?","categories":"kafka","author":"wooobo","emoji":"🔮"},"fields":{"slug":"/kafka/2021-03-14-what-is-kafka-connect/"}},"prev":{"id":"aa2ce8cb-df91-57d7-84fc-f64be0a8a64c","html":"<h1 id=\"1-aopaspect-oriented-programming\" style=\"position:relative;\"><a href=\"#1-aopaspect-oriented-programming\" aria-label=\"1 aopaspect oriented programming permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. AOP(Aspect-Oriented Programming)?</h1>\n<p>관점지향 프로그래밍 : 관점 기반의 모듈화와 코드 분리를 위한 프로그래밍 패러다임</p>\n<p>난해합니다 다양한 정보를 탐색해봐야할것 같다.</p>\n<blockquote>\n<p>AOP(Aspect-Oriented Programming)에서 Aspect 는 특정 동작이나 기능을 캡슐화하는 횡단 관심사의 모듈식 단위를 말합니다.\n측면은 로깅, 오류 처리 또는 보안과 같이 시스템의 여러 모듈 또는 구성 요소에 걸쳐 차단되는 문제를 분리하고 캡슐화하는 데 사용됩니다.\n이들은 프로그램의 핵심 비즈니스 로직과 별도로 이러한 교차 관심사를 모듈화하고 관리할 수 있는 방법을 제공합니다.</p>\n</blockquote>\n<blockquote>\n<p>AOP는 단지 새로운 프로그래밍 패러다임이라는 점에 유의해야 합니다. 어떤 식으로든 OOP를 대체하지는 않습니다. 오히려 모듈성을 달성하고 코드 혼란을 줄이는 또 다른 방법을 제공하여 OOP를 보완합니다.\nAOP에서 aspect는 관심의 모듈화로 정의될 수 있다. 따라서 이러한 프로그래밍 스타일을 관점 지향 프로그래밍이라고 합니다.\nOOP에서는 모듈화를 달성하기 위해 클래스를 활용할 수 있습니다. 반대로 aspect를 통해 AOP에서 모듈성을 달성할 수 있다.</p>\n<p>AOP는 OOP의 모든 이점을 가진 프로그래밍 패러다임입니다.</p>\n<p>출처 : <a href=\"https://www.infoworld.com/article/3040557/my-two-cents-on-aspect-oriented-programming.html\">링크</a></p>\n</blockquote>\n<blockquote>\n<p>ChatGPT 와 대화<br>\nQ. AOP 에서 관점이란?<br>\nA. AOP(Aspect-Oriented Programming)에서 “관점”이란, 프로그램의 횡단 관심사(cross-cutting concern)를 다루기 위한 모듈화된 코드 단위를 의미합니다.\n관점은 여러 부분에 적용될 수 있는 특정 기능을 캡슐화하며, 관심사의 분리와 코드 재사용성을 촉진합니다.\nAOP에서 관점은 타겟 객체나 메서드의 동작을 직접 수정하지 않고, 동작을 주입하거나 수정하는 역할을 담당합니다.</p>\n<p>Q. 그 관점이라는게 무엇입니까?<br>\nA. AOP에서 “관점(Aspect)“은 횡단 관심사(cross-cutting concern)를 처리하기 위한 코드 모듈입니다.\n횡단 관심사는 프로그램의 여러 부분에서 발생하는 공통적인 동작이나 기능을 의미합니다. 예를 들어, 로깅, 트랜잭션 관리, 보안, 캐싱 등은 횡단 관심사의 예입니다.\n관점은 이러한 횡단 관심사를 캡슐화하여 코드의 다른 부분에서 재사용할 수 있는 독립적인 모듈로 만듭니다.\n즉, 관점은 애플리케이션의 여러 지점에 적용될 수 있는 특정 기능을 정의하는 것입니다.\nAOP에서는 관점을 사용하여 횡단 관심사를 분리하고, 핵심 비즈니스 로직과 분리된 형태로 관리하여 코드의 가독성과 유지보수성을 향상시킵니다.</p>\n<p>Q. AOP에서 사용되는 개념들에는 어떤것들이 있습니까?<br>\nA.<br>\nAspect: 횡단 관심사(cross-cutting concern)를 처리하기 위한 모듈화된 코드 단위입니다. 예를 들어, 로깅, 트랜잭션 관리, 보안 등이 관점의 예입니다.</p>\n<p>Target: 관점이 적용되는 원래의 객체 또는 메서드입니다. 관점이 적용되어 동작이 수정되는 대상입니다.</p>\n<p>Advice: 관점이 적용될 때 실행되는 코드 블록입니다. 조언은 관점이 주입하는 동작 자체를 나타냅니다. 예를 들어, 관점이 대상 메서드 호출 전에 로깅을 추가하는 경우, 로깅 코드가 조언에 해당합니다.</p>\n<p>Join Point: 프로그램의 실행 중에 관점이 적용될 수 있는 특정한 지점을 의미합니다. 메서드 호출, 예외 발생, 필드 접근 등이 조인 포인트의 예입니다.</p>\n<p>Pointcut: 관점이 적용될 조인 포인트의 선택 기준을 나타냅니다. 포인트컷은 특정 메서드, 패키지, 클래스 등을 식별하여 관점이 적용되어야 하는 위치를 결정합니다.</p>\n<p>Proxy: 대상 객체를 감싸고 있는 객체로, 관점이 적용되는 중개 역할을 합니다. 프록시는 대상에 대한 간접적인 접근을 제공하고, 관점이 적용되는 추가 동작을 수행합니다.</p>\n</blockquote>\n<p>관점(측면), 모듈화 의 키워드가 많이 보인다.</p>\n<p>그렇다면 무슨 관점들이 있는건까?\n로깅, 트랜잭션 관리, 보안, 캐싱 등이 있어보인다.\n이러한 관점을 분리 시키는것이 모듈화를 시킨다는 것으로 보여짐.</p>\n<p>만약 어떠한 메소드에 로그를 남기고 싶어서 아래와 같이 <code class=\"language-text\">System.out.println</code>을 추가 했다고 가정</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">PositiveNumber</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> value<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">PositiveNumber</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> value<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">lessThan</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">PositiveNumber</span> other<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"lessThan 메서드 실행\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> value <span class=\"token operator\">&lt;</span> other<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>하지만, 단일책임원칙으로 보았을때 좋지 않아보인다. 🤔<br>\n책임이 비교하는것 뿐만 아니라 로그를 남기는 책임까지 부여되고 말았다.</p>\n<p>로그를 남기는 <code class=\"language-text\">관심사</code>를 분리 시켜야 할 것 같다.</p>\n<p><img src=\"/assets/images/aspect_01.png\" alt=\"aspect_01.png\" /></p>\n<p>외부에서 <code class=\"language-text\">lessThan</code> 를 무언가의 관점(측면)으로 바라본다… 이런것 아닐까?</p>\n<p><code class=\"language-text\">나의 관심사는 로깅이야 타겟은 lessThan 메소드</code> 라고 생각해볼수 있을것 같다. 🧐</p>","frontmatter":{"date":"May 17, 2023","title":"도대체 AOP?","categories":"프로그래밍","author":"wooobo","emoji":"🔮"},"fields":{"slug":"/what-is-di/2023-05-18-AOP/"}},"site":{"siteMetadata":{"siteUrl":"https://wooobo.github.io","comments":{"utterances":{"repo":""}}}}},"pageContext":{"slug":"/what-is-di/2023-05-15-DI/","nextSlug":"/kafka/2021-03-14-what-is-kafka-connect/","prevSlug":"/what-is-di/2023-05-18-AOP/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}