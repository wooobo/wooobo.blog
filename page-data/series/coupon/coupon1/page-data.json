{"componentChunkName":"component---src-templates-blog-template-js","path":"/series/coupon/coupon1/","result":{"data":{"cur":{"id":"3d2e137c-6b57-5bf2-8054-f35e7780e1a5","html":"<h2 id=\"ìš”êµ¬ì‚¬í•­\" style=\"position:relative;\"><a href=\"#%EC%9A%94%EA%B5%AC%EC%82%AC%ED%95%AD\" aria-label=\"ìš”êµ¬ì‚¬í•­ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ìš”êµ¬ì‚¬í•­</h2>\n<blockquote>\n<p>íŒ€ì¥ : ë‹¤ìŒì£¼ì— 99% í• ì¸ ì¿ í° ë°œí–‰ í–‰ì‚¬ë¥¼ í•˜ë ¤ê³ í•˜ëŠ”ë°, ë‹¤ìŒì£¼ ê¹Œì§€ ê°œë°œí•´ì£¼ì„¸ìš”.<br>\nìš”êµ¬ì‚¬í•­ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p>\n</blockquote>\n<ol>\n<li>ì¿ í°ì€ ìµœëŒ€ ë°œí–‰ ê°¯ìˆ˜ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.</li>\n<li>ì¿ í°ì€ ë°œí–‰ ê°¯ìˆ˜ ë§Œí¼ ë°œê¸‰ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>\n<li>ì¿ í° ë°œí–‰ ê°¯ìˆ˜ ë³´ë‹¤ ì¿ í°í‹°ì¼“ì„ ì´ˆê³¼ ë°œê¸‰ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</li>\n<li>ëŒ€ê·œëª¨ íŠ¸ë˜í”½ì—ì„œë„ ì¿ í° ë°œí–‰ ê°¯ìˆ˜ë¥¼ ì´ˆê³¼í•´ì„œëŠ” ì•ˆëœë‹¤.</li>\n<li>ì‘ë‹µì‹œê°„ì€ ìš”ì²­ë‹¹ 100msì´í•˜ë¡œ í•œë‹¤.</li>\n</ol>\n<h3 id=\"ì •ì˜\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EC%9D%98\" aria-label=\"ì •ì˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì •ì˜</h3>\n<ul>\n<li>ì¿ í°\n<ul>\n<li>ìµœëŒ€ ë°œí–‰ ê°¯ìˆ˜ë¥¼ ê°€ì§„ë‹¤.</li>\n<li>ì¿ í°í‹°ì¼“ ë°œí–‰ëœ ê°¯ìˆ˜ë¥¼ ê°€ì§„ë‹¤.</li>\n<li>ì¿ í°í‹°ì¼“ ë°œí–‰ ê°¯ìˆ˜ëŠ” ìµœëŒ€ ë°œí–‰ ê°¯ìˆ˜ë¥¼ ì´ˆê³¼ í•  ìˆ˜ ì—†ë‹¤.</li>\n</ul>\n</li>\n<li>ì¿ í° í‹°ì¼“\n<ul>\n<li>ë°œí–‰í•œ ì¿ í°ì´ ì¡´ì¬í•œë‹¤.</li>\n<li>ì¿ í° í‹°ì¼“ì„ ì†Œìœ í•œ ìœ ì €ID ë¥¼ ê°€ì§€ê³  ìˆë‹¤.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"ë„ë©”ì¸\" style=\"position:relative;\"><a href=\"#%EB%8F%84%EB%A9%94%EC%9D%B8\" aria-label=\"ë„ë©”ì¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë„ë©”ì¸</h2>\n<p>ìš°ì„  ë„ë©”ì¸ ë¶€í„° íŒŒì•…í•´ë³´ê³ ì í•œë‹¤.<br>\nì¿ í°ì€ ì¿ í°í‹°ì¼“ì„ ë°œê¸‰ í•  ìˆ˜ ìˆë‹¤.<br>\nì¿ í° í‹°ì¼“ì´ ë°œê¸‰ë ë•Œ ë°œê¸‰ ì¹´ìš´í„°ë¥¼ ì¦ê°€ì‹œí‚¨ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">#<span class=\"token class-name\">Coupon</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Coupon</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> publishLimit<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> published<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Coupon</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> publishLimit<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> published<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>publishLimit <span class=\"token operator\">=</span> publishLimit<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>published <span class=\"token operator\">=</span> published<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">CouponTicket</span> <span class=\"token function\">publish</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">validRemain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        published <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">CouponTicket</span><span class=\"token punctuation\">.</span><span class=\"token function\">couponIdOf</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token function\">validRemain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>publishLimit <span class=\"token operator\">&lt;=</span> published<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IllegalArgumentException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ì´ë¯¸ ëª¨ë‘ ë°œí–‰ë˜ì—ˆìŠµë‹ˆë‹¤.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n#<span class=\"token class-name\">CouponTicket</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CouponTicket</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> couponId<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> userId<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">CouponTicket</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Long</span> couponId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Long</span> userId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>couponId <span class=\"token operator\">=</span> couponId<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>userId <span class=\"token operator\">=</span> userId<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">CouponTicket</span> <span class=\"token function\">couponIdOf</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> couponId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CouponTicket</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>couponId<span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<h2 id=\"ë™ì‹œìš”ì²­-í˜¸ì¶œì—ë„-ì•ˆì „í• ê¹Œ\" style=\"position:relative;\"><a href=\"#%EB%8F%99%EC%8B%9C%EC%9A%94%EC%B2%AD-%ED%98%B8%EC%B6%9C%EC%97%90%EB%8F%84-%EC%95%88%EC%A0%84%ED%95%A0%EA%B9%8C\" aria-label=\"ë™ì‹œìš”ì²­ í˜¸ì¶œì—ë„ ì•ˆì „í• ê¹Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë™ì‹œìš”ì²­ í˜¸ì¶œì—ë„ ì•ˆì „í• ê¹Œ?</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.22222222222222%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAACxLAAAsSwGlPZapAAABNklEQVQY0zWQuU7DUBBFj5+dh53EekBQFpHE9tjZBFJYBIRFQoAoUJSCrYAfouI/+Aa+gwY6CmpKKvLQU0RxNaO5c0d3Lmma0u4PsODgW9C/UHI9nkcIvlIqUkq1PM8rAQogCEquVoC6UmoZWANi0jQpbxQ98xRX+YHqHBpzqFmI7GzGc6vl9CvAyN3RWquDowsmx5d4nufIXaANbAFdROQ0l/x6s9vlNYrCOVQcLITDZtPfGY/dzpWIvCRJUrbWsn94HufFyOR54bipiHzmeT5NkgQGg1FcZJl5WG/zrZS2C5dV57DdbAaj4dCJbkTkXURWb+/u2ZucldOsVxERxz2KyJeIbHc6Hej3B0iWcZKmfGj9nyVvQENr966Ooqhcr9dr4CIlSLK+m/vAkjGmaoyJF7kG4R8/RzaHeY+M2gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"coupon n 01\"\n        title=\"coupon n 01\"\n        src=\"/static/5e9b81b9a3ab8597d77921c2ccb02495/37523/coupon-n-01.png\"\n        srcset=\"/static/5e9b81b9a3ab8597d77921c2ccb02495/e9ff0/coupon-n-01.png 180w,\n/static/5e9b81b9a3ab8597d77921c2ccb02495/f21e7/coupon-n-01.png 360w,\n/static/5e9b81b9a3ab8597d77921c2ccb02495/37523/coupon-n-01.png 720w,\n/static/5e9b81b9a3ab8597d77921c2ccb02495/302a4/coupon-n-01.png 1080w,\n/static/5e9b81b9a3ab8597d77921c2ccb02495/07a9c/coupon-n-01.png 1440w,\n/static/5e9b81b9a3ab8597d77921c2ccb02495/9c507/coupon-n-01.png 2768w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ì¿ í° ë°œí–‰ì€ ë™ì‹œì— ì—¬ëŸ¬ ìš”ì²­ì´ ë“¤ì–´ì˜¬ ìˆ˜ ìˆë‹¤.<br>\nì´ë•Œ ë™ì‹œì— ì—¬ëŸ¬ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ì–´ë–»ê²Œ ë ê¹Œ?</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@RepeatedTest</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">multiple_traffic</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">InterruptedException</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> <span class=\"token constant\">LIMIT</span> <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">final</span> <span class=\"token class-name\">Coupon</span> <span class=\"token constant\">COUPON</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Coupon</span><span class=\"token punctuation\">(</span><span class=\"token number\">1L</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">LIMIT</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">int</span> numberOfThreads <span class=\"token operator\">=</span> <span class=\"token number\">150</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">ExecutorService</span> executorService <span class=\"token operator\">=</span> <span class=\"token class-name\">Executors</span><span class=\"token punctuation\">.</span><span class=\"token function\">newFixedThreadPool</span><span class=\"token punctuation\">(</span>numberOfThreads<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">CountDownLatch</span> latch <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CountDownLatch</span><span class=\"token punctuation\">(</span>numberOfThreads<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CouponTicket</span><span class=\"token punctuation\">></span></span> couponTickets <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> numberOfThreads<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">int</span> finalI <span class=\"token operator\">=</span> i<span class=\"token punctuation\">;</span>\n            executorService<span class=\"token punctuation\">.</span><span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">long</span> startTime <span class=\"token operator\">=</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">currentTimeMillis</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">long</span> stackTime <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n                    <span class=\"token class-name\">CouponTicket</span> couponTicket <span class=\"token operator\">=</span> <span class=\"token constant\">COUPON</span><span class=\"token punctuation\">.</span><span class=\"token function\">publish</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    couponTickets<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>couponTicket<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n                    <span class=\"token function\">timeLog</span><span class=\"token punctuation\">(</span>finalI<span class=\"token punctuation\">,</span> startTime<span class=\"token punctuation\">,</span> stackTime<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ë°œê¸‰ë¶ˆê°€ : \"</span> <span class=\"token operator\">+</span> finalI <span class=\"token operator\">+</span> <span class=\"token string\">\" / \"</span> <span class=\"token operator\">+</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n                latch<span class=\"token punctuation\">.</span><span class=\"token function\">countDown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        latch<span class=\"token punctuation\">.</span><span class=\"token function\">await</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token function\">assertAll</span><span class=\"token punctuation\">(</span>\n                <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>couponTickets<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">hasSize</span><span class=\"token punctuation\">(</span><span class=\"token constant\">LIMIT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span><span class=\"token constant\">COUPON</span><span class=\"token punctuation\">.</span><span class=\"token function\">isPublishAvailable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isFalse</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"ë™ì‹œìš”ì²­-í…ŒìŠ¤íŠ¸-ì‹œë‚˜ë¦¬ì˜¤\" style=\"position:relative;\"><a href=\"#%EB%8F%99%EC%8B%9C%EC%9A%94%EC%B2%AD-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%8B%9C%EB%82%98%EB%A6%AC%EC%98%A4\" aria-label=\"ë™ì‹œìš”ì²­ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë™ì‹œìš”ì²­ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤</h3>\n<ol>\n<li>100ê°œ ë°œê¸‰ ì œí•œ ì¿ í°ì´ ì¡´ì¬í•œë‹¤.</li>\n<li>150ê°œì˜ ì“°ë ˆë“œê°€ ì¿ í° ë°œê¸‰ì„ ë™ì‹œ ìš”ì²­í•œë‹¤.</li>\n<li>100ê°œì˜ ì¿ í°ì´ ë°œê¸‰ë˜ê³  50ê°œì˜ ì¿ í° ë°œê¸‰ì´ ì‹¤íŒ¨í•œë‹¤.</li>\n<li>100ê°œì˜ ì¿ í°ì´ ë°œê¸‰ë˜ì—ˆëŠ”ì§€ í™•ì¸í•œë‹¤.</li>\n<li>ì¿ í° ë°œê¸‰ì´ ë¶ˆê°€ëŠ¥í•œì§€ í™•ì¸í•œë‹¤.</li>\n<li>ì¿ í° ë°œê¸‰ì´ ì‹¤íŒ¨í•œ ì“°ë ˆë“œê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•œë‹¤.</li>\n</ol>\n<p><strong>í…ŒìŠ¤íŠ¸ ê²°ê³¼</strong>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABpklEQVQoz02SyY7bMBBE/TOJF1HiJllja99lyx54gBzmkFyDZP7//gLSMpBDgUVS3XjV1Gaef3N7/2K5/+V2/+K6/KGsPrFmJkkWrL2QxhOxHjF6QtsL2l5RZsas0mpCq9FrU50WdDyhzUAoG4KwQpkOFffoZEAlI9mxoTUttenI0wtFMpOagUC1CNVyCEv2omAnCjbaFsTpQGhG9mHJLizYioJt8PxA6J4washVS6U6KtXSqJZMNhxEwTeR8108a1z9JohKkmOLimeknQhk7S9eEqbHyIZStb6pU+Earj5b9yqqnoTbQ842yonsQKh7H2Mb5OxE7tfAkUS1L76agcH0TGZgXv1iRx528t4TCtVjjiOn8oM0exCf7oRunk56wKaLb6qjytO8yYaTbDiv/kWaymad4fHGuXhnWn7RTj8pu09Mese83f2aVT8QuuUsG252ZDS9p3O0jnSxA4948mee0MeTBeErslwjBy5y5un2UU0c1ZSq82TZf3N0Z53uvfeEO1FykCXSDkRm8L/B60H8K7t9VPlIbk617mi9nt41G9dzR/gPr/wrynYCS+0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"coupon n 02\"\n        title=\"coupon n 02\"\n        src=\"/static/38bf4c7d6016780ce6e6da595630845a/37523/coupon-n-02.png\"\n        srcset=\"/static/38bf4c7d6016780ce6e6da595630845a/e9ff0/coupon-n-02.png 180w,\n/static/38bf4c7d6016780ce6e6da595630845a/f21e7/coupon-n-02.png 360w,\n/static/38bf4c7d6016780ce6e6da595630845a/37523/coupon-n-02.png 720w,\n/static/38bf4c7d6016780ce6e6da595630845a/302a4/coupon-n-02.png 1080w,\n/static/38bf4c7d6016780ce6e6da595630845a/07a9c/coupon-n-02.png 1440w,\n/static/38bf4c7d6016780ce6e6da595630845a/0f882/coupon-n-02.png 1584w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ì–´ëŠì •ë„ ì˜ˆìƒí–ˆì§€ë§Œ, ë‹¹ì—°íˆ ì‹¤íŒ¨í–ˆë‹¤.<br>\në©€í‹° Thread í™˜ê²½ì—ì„œ ë°ì´í„° ê²½í•© ë¬¸ì œê°€ ë°œìƒë ê±°ë¼ê³  ìƒê°í–ˆê¸° ë•Œë¬¸ì´ë‹¤.<br>\nê·¸ë ‡ë‹¤ë©´ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬í•˜ë ¤ë©´ ì–´ë–»ê»˜ í•´ì•¼í• ê¹Œ?</p>\n<p>ğŸ¤© ì¤‘ìš”í•œê²ƒì€ ìš”ì²­ì„ í•˜ë‚˜ì”© ë°›ê³  í•˜ë‚˜ì”© ìš”ì²­ì„ ë‹¤ ì²˜ë¦¬í•˜ê³  ë‹¤ìŒ ìš”ì²­ì„ ë°›ì•„ë“œë¦¬ëŠ”ê²Œ ì•„ë‹ê¹Œ?</p>\n<ul>\n<li>í˜„ì¬ì˜ í…ŒìŠ¤íŠ¸ í™˜ê²½ì€ ë©€í‹° Thread í™˜ê²½ì´ê¸° ë•Œë¬¸ì— thread-safeë¥¼ ìœ„í•´ <code class=\"language-text\">synchronized</code> ë¥¼ ì ìš©í•´ ë³¸ë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">    <span class=\"token keyword\">public</span> <span class=\"token keyword\">synchronized</span> <span class=\"token class-name\">CouponTicket</span> <span class=\"token function\">publish</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">validRemain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        published <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">CouponTicket</span><span class=\"token punctuation\">.</span><span class=\"token function\">couponIdOf</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>ë‹¤ì‹œ í…ŒìŠ¤íŠ¸ ì§„í–‰</strong></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 122.77777777777779%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAABYlAAAWJQFJUiTwAAACXUlEQVQ4y7WUW2/aQBCF/W8K+L7rC7HxBRZsjEmgVJVS0jSp1Lz3pVKVP3+iHduVAduklfow2pU9e/Z8O7OrlNNvCJISFhdw/BxeUMBgCxq5l8HkAqoRQ7dTaFaCINrCDwswd0Vz92YNyxGYzjY0V0RwRLg4wAvuEMQfMZ3twP0SfngHN7gFn5aw3DWYtwHzCtxEe8qRESYHhOmB8sL0E/xwCyUQ98j23/H4/BvHp194fnnF5+NPTON7hPOvCOcP9VjFTXJEkMp4oPCjL8i2L3j68Yp88wjFYBksPwcPC3D/Fl64gxfsYLkFdHsJna2g26vTsR32kgi8cA/LyaGM1AgTK4LGEkhxg1ehWnOMtBlGWlSP3fFBnWFiJLRGswSUkR5hrKXQnASGO4ftbOi8DLYC80vY3oYWSOGxHl+E/K5ZC8qTa5T2T5XFMLiAyXOYTl4h20tK7BOtviWUQw7HmvwhsWJMWATdWcBy1hRNktxANdMTwWZeHUlEuXLzCpl+SIcRDFfAdgrYbkFCMlGKnwueu5R5J8jk0I6g8wVMvibkZleTZ5gY6ZVzFJXDtuAfh25BrSArp7MliV9zKAUvHLYFL5Hnw8iy3fqRc8KU7jRb1FUedlh1hOhzuDl16P5jUUiw1TZmjdHVNl2CF0VpkEnsL6vcXIJBZKqyLQj5mmB3H9Y3RfahfDn+DzKrkK8JvguZRHlGG1xF7u3DFnJzLg3OoMNO5NYZ0vPFlu8W7O/DsyrLmyKRZbXPBdtPWIWcDVy92mHzwPY5bL41uZ0OmVvWV69pm2ocEqyuaYY3M2ou5gUHUZQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"coupon n 03\"\n        title=\"coupon n 03\"\n        src=\"/static/8df2b7396c80f607fa627d997faf59a9/37523/coupon-n-03.png\"\n        srcset=\"/static/8df2b7396c80f607fa627d997faf59a9/e9ff0/coupon-n-03.png 180w,\n/static/8df2b7396c80f607fa627d997faf59a9/f21e7/coupon-n-03.png 360w,\n/static/8df2b7396c80f607fa627d997faf59a9/37523/coupon-n-03.png 720w,\n/static/8df2b7396c80f607fa627d997faf59a9/774b6/coupon-n-03.png 738w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ì˜ë¯¸ìˆëŠ” ê²°ê³¼ê°€ ë‚˜ì™”ë‹¤.<br>\nğŸ¤” í•˜ì§€ë§Œ í˜„ì¬ í…ŒìŠ¤íŠ¸ í™˜ê²½ì€ ë¶€í•˜ê°€ ì—†ë‹¤.<br>\nì‹¤ì œë¡œ ë¶€í•˜ê°€ ê±¸ë ¤ìˆëŠ” í™˜ê²½ì—ì„œëŠ” ì–´ë–»ê²Œ ë ê¹Œ?\n5ms ë¶€í•˜ë¥¼ ê±¸ì–´ë³´ì.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">    <span class=\"token keyword\">public</span> <span class=\"token keyword\">synchronized</span> <span class=\"token class-name\">CouponTicket</span> <span class=\"token function\">publish</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">InterruptedException</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ì§€ì—° ì¶”ê°€</span>\n\n        <span class=\"token function\">validRemain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        published <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">CouponTicket</span><span class=\"token punctuation\">.</span><span class=\"token function\">couponIdOf</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>í…ŒìŠ¤íŠ¸ ê²°ê³¼</strong>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 102.22222222222221%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAABzUlEQVQ4y42V3Y6bMBCF93Ga8G8MdoIWkpLYBIiavenuTdX3f4pTefgJAUP3wopkNJ/OnDPjvDFR4aw/cbv/RXH5DT/WCHhFJ+QVPKZwzD+gmz8o1RcCrsC5RslLHGWNY6ohE433RCF1Dnjb+Tnc+ISQawI4wRk7r8AP9x07L6dfN/xJ33x2hceuEOKGPNVg2QOxvCMUDRJRgxPQzbEPcni8Kwq4psIBZs4+ONHdFFikCkn2QCJbMNFAjsC+0GEFwqRCECs6RtVUpVFu7p8KFfjxF7hsCJimNwuQ1ClS4syAe/8EL7rQMcXFDChsCod2N4GTlgdgLFu62wS6FqDPpgo1ePYAl20PrO0tr3nYAa+WlltENg9dViCiUDT8FSCFQsBq4aGUzRK4lfIwOsbDuUK25mHYKzRnqbDoPByBTw+ZWPMw6dolhVE5m8OJQjFTuDaHrymXG2NTv3oo295DaQMqUuktFJ5HhaY4n3lo35RJKFvAUWG/y5FtU9xvAMddlvX/d3kxNtZQ1NJD0SA+3O0eviq8WObQAhxTrtZemz7lqLTv8hiKRpx90AMbyTvSYVOGR9SJnil3m7IONFtRJhdkhxaZqHBIq/4vQOIfk2eR8dQOqy8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"coupon n 04\"\n        title=\"coupon n 04\"\n        src=\"/static/9a31e244413f40bfcaf23b1def8a17fd/37523/coupon-n-04.png\"\n        srcset=\"/static/9a31e244413f40bfcaf23b1def8a17fd/e9ff0/coupon-n-04.png 180w,\n/static/9a31e244413f40bfcaf23b1def8a17fd/f21e7/coupon-n-04.png 360w,\n/static/9a31e244413f40bfcaf23b1def8a17fd/37523/coupon-n-04.png 720w,\n/static/9a31e244413f40bfcaf23b1def8a17fd/302a4/coupon-n-04.png 1080w,\n/static/9a31e244413f40bfcaf23b1def8a17fd/d43b4/coupon-n-04.png 1202w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>í™•ì‹¤íˆ ì„±ëŠ¥ì´ ë–¨ì–´ì¡Œë‹¤.</p>\n<blockquote>\n<p><em>ë¡œìš° ë¦¬ìŠ¤í¬ ë¡œìš° ë¦¬í„´ì´ì—ˆë‹¤.</em></p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABnklEQVQoz5WRX2vTYBTG8+HEmyFiXWu6oSxM5oXaZklaahqCGqoVbwol9m74KQoRSqE3FbMUxm6l1kIs9MrpmvVPmp8kc7MDJ/XAw3k55znPOQ+vkFdNxFv3eblxj8LtB1gbWfKpLTLbEllRIpV5xN30HndSEun0Hpn0Lllxh+0tKYEo7pDalLhxc5PnL94ivHpTR32scyCb2Dmd90+KvM4XkTUdVdF5KptoBYt91SSXN9iXDRTlGZqqU9B0FEUnl9fZfShjvztAYI3o9z8zHH5dh4ownU4JgiDBfD5nuVxeYrFYJCTH+UC73U7ecW2Vc4EwPM9Co9GgWq1iGAae5yVDYRgSRVGS42g2m7RarSu96yDYtk2lUqFcLuMeHiZD8SZWBDudDt1u90/vX5br9TqWZVEslXBjWycnzGczohWS4ziXli+WXCtYq9UwTRNN0/gYX3F2xo+jI74dH/Pz9DQhfXJder3e/11Yii903aQYxR/i+3yPRYKAL/0+g8FgPcHxeMxoNML3fSaTyblgtGJ4OGTmecx+W73S+4vgLzAisdKUfM/JAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"coupon-04.png\"\n        title=\"coupon-04.png\"\n        src=\"/static/e37f547ed748e7eb97cb8f30e3052e4d/37523/coupon-04.png\"\n        srcset=\"/static/e37f547ed748e7eb97cb8f30e3052e4d/e9ff0/coupon-04.png 180w,\n/static/e37f547ed748e7eb97cb8f30e3052e4d/f21e7/coupon-04.png 360w,\n/static/e37f547ed748e7eb97cb8f30e3052e4d/37523/coupon-04.png 720w,\n/static/e37f547ed748e7eb97cb8f30e3052e4d/302a4/coupon-04.png 1080w,\n/static/e37f547ed748e7eb97cb8f30e3052e4d/26a94/coupon-04.png 1102w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ì´ìœ ëŠ” <code class=\"language-text\">synchronized</code> ëŠ” í•˜ë‚˜ì˜ ì“°ë ˆë“œë§Œ ì ‘ê·¼ì„ í—ˆìš©í•˜ê¸° ë•Œë¬¸ì´ë‹¤.<br>\nê·¸ë ‡ë‹¤ë©´ <code class=\"language-text\">synchronized</code> ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ?</p>\n<p>ì•ˆì „í•˜ê²Œ í•˜ê¸°ìœ„í•´ ìš”ì²­ì´ ëª¨ë‘ ì™„ë£Œ ë ë•Œê¹Œì§€ ì´í›„ ìš”ì²­ì€ ëŒ€ê¸°í•´ì•¼ í–ˆë˜ê²ƒì´ ë¬¸ì œì˜€ë‹¤.<br>\në°œê¸‰í•˜ëŠ” í–‰ìœ„ì— ëŒ€í•´ì„œëŠ” ì•ˆì •ì„±ì„ ì§€ì¼œì•¼í–ˆê¸° ë•Œë¬¸ì´ë‹¤.</p>\n<p><strong>í–‰ìœ„ëŠ” ë¬´ì—‡ì´ ìˆì„ê¹Œ?</strong> ë¼ëŠ” ìƒê°ì„ í–ˆë‹¤.</p>\n<h2 id=\"í–‰ìœ„ë¶„ë¦¬\" style=\"position:relative;\"><a href=\"#%ED%96%89%EC%9C%84%EB%B6%84%EB%A6%AC\" aria-label=\"í–‰ìœ„ë¶„ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í–‰ìœ„ë¶„ë¦¬</h2>\n<ul>\n<li>ì¿ í°í‹°ì¼“ ë°œê¸‰</li>\n<li>ì¿ í°í‹°ì¼“ ì „ë‹¬</li>\n</ul>\n<p>As-Is\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAA+klEQVQoz5WRMaqDQBRFrbINt2Fjr43uwDWIErBxD6KNuAIFK2sFGy1EaxFNFYJgpYKdesNMfiT54fPJhTf3Fm/OvMcw+FHTNJimieZ939/8GzHkiKIIp9MJiqIcoGcRBUGAJElo9n0fcRwfOU1TLMsC27bR9/0D2LYteJ6H4zi0cdu2N6Aoijifzx9ZEASYponr9QqWZVGWJZh5nmEYBjiOgyzLyPOcNq/rSsFEuq7TCYg0TTseVlUVnudhHEdIkoTL5fIAhmEIy7Lgui7quj6m/L3+c3Lif2W6MoEMw4Cu66i/gr7+FHIpyzIURYGqqnC73T6A/+XXugNb3vN+gOAaVwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"coupon 05\"\n        title=\"coupon 05\"\n        src=\"/static/9a7d4a042288aaac64538bff3b79e619/37523/coupon-05.png\"\n        srcset=\"/static/9a7d4a042288aaac64538bff3b79e619/e9ff0/coupon-05.png 180w,\n/static/9a7d4a042288aaac64538bff3b79e619/f21e7/coupon-05.png 360w,\n/static/9a7d4a042288aaac64538bff3b79e619/37523/coupon-05.png 720w,\n/static/9a7d4a042288aaac64538bff3b79e619/764be/coupon-05.png 806w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\nTo-Be\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.77777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABYElEQVQY022Rz0oCcRSF53HcunTpQ0SFUasgih4hiATLB2jaZUTkRgiiUBfVzgGj0pQ2JZPpmIMzjdI4/xzni/mBuw5cDhfO4t7vSI7jsBjf91loMpkwGgwwNQ3TGDGdTnFdl6ltE4YhEf9LiqKI+XxOEARYloU+HGLZNqpS4253m5utTV5PjkV4FgQ4rsvMdcR+Wy5zIssUCgVkWabZbCKVSiX6/T7FYhHTNHm4v+e2UuH98ZHKxhqnq8s87GwROQ7lahVFURgNdayRwUE2SyKRIJVKCc/lckiqqtLtdmm1WozHYzRNo9FoMPn9Rdnf4zKzwtXaKp2ba94+Onx1P/ke6ni+z9HRIclkknQ6LTyfzyPFp8dM4rdjRgvNgK9qmav1DGcrS3QuzpkDvueJfCzDMKjVatTrdeHtdhvJtm1RSAzd8zwE0zAUrH50nd7LM73nJ/RPFdfzsBelRP/X8geAtZ/UecYArAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"coupon 06\"\n        title=\"coupon 06\"\n        src=\"/static/a4993c8827b9bd924bf4dcfa09fb0900/37523/coupon-06.png\"\n        srcset=\"/static/a4993c8827b9bd924bf4dcfa09fb0900/e9ff0/coupon-06.png 180w,\n/static/a4993c8827b9bd924bf4dcfa09fb0900/f21e7/coupon-06.png 360w,\n/static/a4993c8827b9bd924bf4dcfa09fb0900/37523/coupon-06.png 720w,\n/static/a4993c8827b9bd924bf4dcfa09fb0900/302a4/coupon-06.png 1080w,\n/static/a4993c8827b9bd924bf4dcfa09fb0900/21b4d/coupon-06.png 1280w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3 id=\"ì„œë¹„ìŠ¤-ë¶„ë¦¬\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%B9%84%EC%8A%A4-%EB%B6%84%EB%A6%AC\" aria-label=\"ì„œë¹„ìŠ¤ ë¶„ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì„œë¹„ìŠ¤ ë¶„ë¦¬</h3>\n<p>ì„œë¹„ìŠ¤ê°€ ë¡œë“œë ë•Œ ë¯¸ë¦¬ ë°œê¸‰ì„ í•´ë†“ì•˜ë‹¤.\nì´ì „ í…ŒìŠ¤íŠ¸ì²˜ëŸ¼ ë¶€í•˜ë¥¼ 5ms ì£¼ì—ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CouponService</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Coupon</span> coupon<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">LinkedBlockingQueue</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CouponTicket</span><span class=\"token punctuation\">></span></span> couponTickets <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LinkedBlockingQueue</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">CouponService</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Coupon</span> coupon<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>coupon <span class=\"token operator\">=</span> coupon<span class=\"token punctuation\">;</span>\n        <span class=\"token function\">warmUp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token function\">warmUp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        coupon<span class=\"token punctuation\">.</span><span class=\"token function\">allPublish</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>couponTickets<span class=\"token operator\">::</span><span class=\"token function\">offer</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">CouponTicket</span> <span class=\"token function\">publish</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">InterruptedException</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ì§€ì—° </span>\n        <span class=\"token keyword\">return</span> couponTickets<span class=\"token punctuation\">.</span><span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"í…ŒìŠ¤íŠ¸\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\"í…ŒìŠ¤íŠ¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í…ŒìŠ¤íŠ¸</h3>\n<ol>\n<li>ë¯¸ë¦¬ ë°œê¸‰í•´ë†“ì€ ì¿ í°í‹°ì¼“ì´ ì¡´ì¬í•œë‹¤.</li>\n<li>ì¿ í°ì„ ê°€ì ¸ì˜¤ê¸°ë§Œí•œë‹¤.</li>\n<li>ë¶€í•˜ 5ms ì¶”ê°€</li>\n</ol>\n<p>ì˜ˆìƒ: í–‰ìœ„ë¥¼ ë¶„ë¦¬í•˜ì˜€ê³ , ê°€ì ¸ê°€ê¸°ë§Œ í•˜ë©´ë˜ë‹ˆ ì†ë„ëŠ” ê°œì„ ë ê²ƒì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@RepeatedTest</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">multiple_traffic_speed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">InterruptedException</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> <span class=\"token constant\">LIMIT</span> <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">final</span> <span class=\"token class-name\">Coupon</span> <span class=\"token constant\">COUPON</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Coupon</span><span class=\"token punctuation\">(</span><span class=\"token number\">1L</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">LIMIT</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">CouponService</span> couponService <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CouponService</span><span class=\"token punctuation\">(</span><span class=\"token constant\">COUPON</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">int</span> numberOfThreads <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">ExecutorService</span> executorService <span class=\"token operator\">=</span> <span class=\"token class-name\">Executors</span><span class=\"token punctuation\">.</span><span class=\"token function\">newFixedThreadPool</span><span class=\"token punctuation\">(</span>numberOfThreads<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">CountDownLatch</span> latch <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CountDownLatch</span><span class=\"token punctuation\">(</span>numberOfThreads<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">LinkedBlockingQueue</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CouponTicket</span><span class=\"token punctuation\">></span></span> couponTickets <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LinkedBlockingQueue</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> numberOfThreads<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">int</span> finalI <span class=\"token operator\">=</span> i<span class=\"token punctuation\">;</span>\n            executorService<span class=\"token punctuation\">.</span><span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">long</span> startTime <span class=\"token operator\">=</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">currentTimeMillis</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">long</span> stackTime <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n                    <span class=\"token class-name\">CouponTicket</span> couponTicket <span class=\"token operator\">=</span> couponService<span class=\"token punctuation\">.</span><span class=\"token function\">publish</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    couponTickets<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>couponTicket<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n                    <span class=\"token function\">timeLog</span><span class=\"token punctuation\">(</span>finalI<span class=\"token punctuation\">,</span> startTime<span class=\"token punctuation\">,</span> stackTime<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ë°œê¸‰ë¶ˆê°€ : \"</span> <span class=\"token operator\">+</span> finalI <span class=\"token operator\">+</span> <span class=\"token string\">\" / \"</span> <span class=\"token operator\">+</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n                latch<span class=\"token punctuation\">.</span><span class=\"token function\">countDown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        latch<span class=\"token punctuation\">.</span><span class=\"token function\">await</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token function\">assertAll</span><span class=\"token punctuation\">(</span>\n                <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>couponTickets<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">hasSize</span><span class=\"token punctuation\">(</span><span class=\"token constant\">LIMIT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span><span class=\"token constant\">COUPON</span><span class=\"token punctuation\">.</span><span class=\"token function\">isPublishAvailable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isFalse</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>ê²°ê³¼</strong>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 107.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAABYlAAAWJQFJUiTwAAACQ0lEQVQ4y51U226bQBD139RcFlgWMBhzMWDApGqchsq24kh96mvUqv3+U82uHV9i+ZKH0cLucOacOcMONvEbylkP7lfwoxajuIMfNgjjDlHyAD9swXgORxQwnQzj5CvKukc46ZAWC+Tlk8wVo1ruD8ZRj7jokVVrTOsXuSbFEkH8BH9MsYAXPUKEj9t3tRfE32WMJs8yt6g3iPNnDKL0B5J2hfXrXyw3v/Hy8x9Wr38Q52tE2QpRtsY4V0HP+1BnYbpEUm7Qr9+w6H9hoLEMBp9C91Iw3oC5NSzRwvFbDM0EGktlDLcr5Z+GbuVgvIbJZxhoZgrdSmG6GZgo4XgNbK8B4yUMewrDzqFbmXymD6nIaVAhy61giRkGQ5ZAMzOYbg4WZHBEBzfoYLm1XB2vleFF3+D48yPWkrmZyIJEwhYNSaaDBEMjgWYnYH4GW7TgwRzMrWQQIOV9MSbvIIfsaCVFlksM3zdT6ATo5bISVaQEkxJFLSWfsjtkaTqFAtxvptAdYpiDe3Nwfw5b1GC8kuCmU14EJIaUdwxoK8Bd36giARJDYnA3Q+qheSJ515tPAZ6V7FaywDXJdH7g8p6hMqWV82hte3izZFGf6aFHF8FhD8vP91BJnoL7nZK8ZSkl82suVx9dPjJFNGqwt6YYVxjSnF41RUktpTk3AX7o4anLd0g+D3jg8n4Oq5vm0Lg0h443l/chSaUk+xaX+Zk5JEArmCrJgRpsit0I3f0va1YC3cmkEcRIXbAqdDu/CEiXL8n+Dxq1zjKLSOh9AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"coupon n 05\"\n        title=\"coupon n 05\"\n        src=\"/static/ef67baccc9bb3e628c67c01c36faaeec/37523/coupon-n-05.png\"\n        srcset=\"/static/ef67baccc9bb3e628c67c01c36faaeec/e9ff0/coupon-n-05.png 180w,\n/static/ef67baccc9bb3e628c67c01c36faaeec/f21e7/coupon-n-05.png 360w,\n/static/ef67baccc9bb3e628c67c01c36faaeec/37523/coupon-n-05.png 720w,\n/static/ef67baccc9bb3e628c67c01c36faaeec/50383/coupon-n-05.png 740w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ë¶€í•˜ë¥¼ ì£¼ì—ˆëŠ”ë°ë„ ì†ë„ê°€ ë§Œì¡±í•  ë§Œí¼ ë‚˜ì™”ë‹¤. ğŸ‘</p>\n<hr>\n<h2 id=\"ì •ë¦¬\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"ì •ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì •ë¦¬</h2>\n<ol>\n<li>ì¿ í°ë°œê¸‰: ì¿ í° ë°œê¸‰ì—ë§Œ <strong>ì§‘ì¤‘</strong>, ë™ì‹œ ì—¬ëŸ¬ê°œ ë°œê¸‰ ê°€ëŠ¥</li>\n<li>ì¿ í°ì „ë‹¬: ì¿ í° ì „ë‹¬ì—ë§Œ <strong>ì§‘ì¤‘</strong>, ë°œê¸‰ëœ ì¿ í°ì´ ìˆìœ¼ë©´ ì¦‰ì‹œ ì „ë‹¬</li>\n</ol>\n<p>ì‘ì—… ë‚´ìš©ì„ íŒ€ì¥ë‹˜ì—ê²Œ ì „ë‹¬í•˜ì˜€ë‹¤.</p>\n<blockquote>\n<p>íŒ€ì¥: ì˜ êµ¬í˜„ í•´ì£¼ì…¨êµ°ìš”. ëŒ€ëµì ì¸ ì¿ í° ë°œí–‰ì— ëŒ€í•´ ì´í•´ë„ê°€ ë†’ì•„ì§„ê²ƒ ê°™ë„¤ìš”. Spring bootë¡œ ì´ì œ êµ¬í˜„í•´ì£¼ì„¸ìš”.</p>\n</blockquote>\n<p>ë‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œ ê³„ì†..</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EC%9A%94%EA%B5%AC%EC%82%AC%ED%95%AD\">ìš”êµ¬ì‚¬í•­</a></p>\n<ul>\n<li><a href=\"#%EC%A0%95%EC%9D%98\">ì •ì˜</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%8F%84%EB%A9%94%EC%9D%B8\">ë„ë©”ì¸</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%8F%99%EC%8B%9C%EC%9A%94%EC%B2%AD-%ED%98%B8%EC%B6%9C%EC%97%90%EB%8F%84-%EC%95%88%EC%A0%84%ED%95%A0%EA%B9%8C\">ë™ì‹œìš”ì²­ í˜¸ì¶œì—ë„ ì•ˆì „í• ê¹Œ?</a></p>\n<ul>\n<li><a href=\"#%EB%8F%99%EC%8B%9C%EC%9A%94%EC%B2%AD-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%8B%9C%EB%82%98%EB%A6%AC%EC%98%A4\">ë™ì‹œìš”ì²­ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%96%89%EC%9C%84%EB%B6%84%EB%A6%AC\">í–‰ìœ„ë¶„ë¦¬</a></p>\n<ul>\n<li><a href=\"#%EC%84%9C%EB%B9%84%EC%8A%A4-%EB%B6%84%EB%A6%AC\">ì„œë¹„ìŠ¤ ë¶„ë¦¬</a></li>\n<li><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8\">í…ŒìŠ¤íŠ¸</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%A0%95%EB%A6%AC\">ì •ë¦¬</a></p>\n</li>\n</ul>\n</div>","excerpt":"ìš”êµ¬ì‚¬í•­ íŒ€ì¥ : ë‹¤ìŒì£¼ì— 99% í• ì¸ ì¿ í° ë°œí–‰ í–‰ì‚¬ë¥¼ í•˜ë ¤ê³ í•˜ëŠ”ë°, ë‹¤ìŒì£¼ ê¹Œì§€ ê°œë°œí•´ì£¼ì„¸ìš”. ìš”êµ¬ì‚¬í•­ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. ì¿ í°ì€ ìµœëŒ€ ë°œí–‰ ê°¯ìˆ˜ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì¿ í°ì€ ë°œí–‰ ê°¯ìˆ˜ ë§Œí¼ ë°œê¸‰ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¿ í° ë°œí–‰ ê°¯ìˆ˜ ë³´ë‹¤ ì¿ í°í‹°ì¼“ì„ ì´ˆê³¼ ë°œê¸‰ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ëŒ€ê·œëª¨ íŠ¸ë˜í”½ì—ì„œë„ ì¿ í° ë°œí–‰ ê°¯ìˆ˜ë¥¼ ì´ˆê³¼í•´ì„œëŠ” ì•ˆëœë‹¤. ì‘ë‹µì‹œê°„ì€ ìš”ì²­ë‹¹ 100msì´í•˜ë¡œ í•œë‹¤. ì •ì˜ ì¿ í° ìµœëŒ€ ë°œí–‰ ê°¯ìˆ˜ë¥¼ ê°€ì§„ë‹¤. ì¿ í°í‹°ì¼“ ë°œí–‰ëœ ê°¯ìˆ˜ë¥¼ ê°€ì§„ë‹¤. ì¿ í°í‹°ì¼“ ë°œí–‰ ê°¯ìˆ˜ëŠ” ìµœëŒ€ ë°œí–‰ ê°¯ìˆ˜ë¥¼ ì´ˆê³¼ í•  ìˆ˜ ì—†ë‹¤. ì¿ í° í‹°ì¼“ ë°œí–‰í•œ ì¿ í°ì´ ì¡´ì¬í•œë‹¤. ì¿ í° í‹°ì¼“ì„ ì†Œìœ í•œ ìœ ì €ID ë¥¼ ê°€ì§€ê³  ìˆë‹¤. ë„ë©”ì¸ ìš°ì„  ë„ë©”ì¸ ë¶€í„° íŒŒì•…í•´ë³´ê³ ì í•œë‹¤. ì¿ í°ì€ ì¿ í°í‹°ì¼“ì„ ë°œê¸‰ í•  ìˆ˜ ìˆë‹¤. ì¿ í° í‹°ì¼“ì´ ë°œê¸‰ë ë•Œ ë°œê¸‰ ì¹´ìš´í„°ë¥¼ ì¦ê°€ì‹œí‚¨ë‹¤. ë™ì‹œìš”ì²­ í˜¸ì¶œì—ë„ ì•ˆì „í• ê¹Œ?  ì¿ í° ë°œí–‰ì€ ë™ì‹œì— ì—¬ëŸ¬ ìš”ì²­ì´ ë“¤ì–´ì˜¬ ìˆ˜ ìˆë‹¤. ì´ë•Œ ë™ì‹œì— ì—¬ëŸ¬ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ì–´ë–»ê²Œ ë ê¹Œ? ë™ì‹œìš”ì²­ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ 100ê°œ ë°œê¸‰ ì œí•œ ì¿ â€¦","frontmatter":{"date":"May 20, 2023","title":"ì¿ í° ë°œê¸‰ (1) - ë¡œì»¬í…ŒìŠ¤íŠ¸","categories":"ì‹œë¦¬ì¦ˆ","author":"wooobo","emoji":"1ï¸âƒ£"},"fields":{"slug":"/series/coupon/coupon1/"}},"next":{"id":"c4bab96f-c4a8-58d1-967a-27b1484e5152","html":"<h1 id=\"1-iocinversion-of-controlë€\" style=\"position:relative;\"><a href=\"#1-iocinversion-of-control%EB%9E%80\" aria-label=\"1 iocinversion of controlë€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. IoC(Inversion of Control)ë€?</h1>\n<p>ì˜ì¡´ì„± ê´€ë¦¬ë¥¼ ì™¸ë¶€ì— <code class=\"language-text\">ìœ„ì„</code>í•˜ì—¬ ê°ì²´ì˜ ìƒì„±ê³¼ ê´€ë¦¬ë¥¼ ì œì–´í•˜ëŠ” ê°œë°œ íŒ¨í„´</p>\n<h1 id=\"2-ëˆ„ê°€-ì™œ\" style=\"position:relative;\"><a href=\"#2-%EB%88%84%EA%B0%80-%EC%99%9C\" aria-label=\"2 ëˆ„ê°€ ì™œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. ëˆ„ê°€? ì™œ?</h1>\n<ol>\n<li>ëˆ„êµ¬í•œí…Œ ìœ„ì„í•˜ëŠ”ê°€?</li>\n</ol>\n<p>ì£¼ë¡œ í”„ë ˆì„ ì›Œí¬ì— ìœ„ì„í•©ë‹ˆë‹¤. ëŒ€í‘œì ìœ¼ë¡œ Spring í”„ë¡œë ˆì„ì›Œí¬ë¼ê³  ë³¼ ìˆ˜ ìˆê² ìŠµë‹ˆë‹¤.</p>\n<ol start=\"2\">\n<li>ì™œ ìœ„ì„í•˜ëŠ”ê°€?</li>\n</ol>\n<p>ê°œì¸ì ìœ¼ë¡œ ìƒê°í•˜ëŠ” ìœ„ì„í•˜ëŠ” ì£¼ìš” ì¥ì ì¤‘ í•˜ë‚˜ëŠ” ê°œë°œìê°€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ì§‘ì¤‘í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.</p>\n<p>ê·¸ë ‡ë‹¤ë©´, <code class=\"language-text\">ì˜ì¡´ì„±ì„ í”„ë ˆì„ì›Œí¬ì— ìœ„ì„í•˜ê³  ê°œë°œìëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê°œë°œì— ì§‘ì¤‘ í•  ìˆ˜ ìˆë‹¤.</code> ì •ë„ë¡œ ë³´ë©´ ë˜ê² ë„¤ìš”.</p>\n<h1 id=\"3-ì˜ˆì‹œ\" style=\"position:relative;\"><a href=\"#3-%EC%98%88%EC%8B%9C\" aria-label=\"3 ì˜ˆì‹œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. ì˜ˆì‹œ</h1>\n<p><a href=\"/DI/\">DI</a>ì—ì„œ í™œìš©í–ˆë˜ ì½”ë“œë¥¼ ì‚¬ìš©í•´ì„œ íƒêµ¬í•´ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<p>ì¼ë°˜ì ìœ¼ë¡œ ê°œë°œìê°€ ê°ì²´ë¥¼ ìƒì„±ê´€ë¦¬ í•œë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì„ ê²ƒì…ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">LottoService</span> lottoService <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LottoService</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">RandomNumberGenerator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ê·¸ë ‡ë‹¤ë©´, ê°ì²´ìƒì„±ì„ í”„ë ˆì„ì›Œí¬ì— ìœ„ì„í•˜ë‹¤ê³  í•˜ëŠ”ë° ê·¸ëŸ¬í•œ íŒ¨í„´ì„ ì½”ë“œë¡œ ìš°ì„  ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@SpringBootApplication</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DemoApplication</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">ApplicationContext</span> context <span class=\"token operator\">=</span> <span class=\"token class-name\">SpringApplication</span><span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DemoApplication</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">LottoService</span> myService <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">getBean</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">LottoService</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">ApplicationContext</code>ë€ ê°ì²´ì—ê²Œ <code class=\"language-text\">LottoService.classíƒ€ì…</code>ì˜ <code class=\"language-text\">Bean</code>ì„ ë‹¬ë¼ê³  í•˜ë„¤ìš” ğŸ¤”\nê·¸ëŸ°ë° ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ë¶€ë¶„ì€ í™•ì‹¤í•˜ê²Œ <code class=\"language-text\">new</code>ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì€ê²ƒìœ¼ë¡œ ë´ì„œëŠ” ê°ì²´ ìƒì„±ì„ í”„ë ˆì„ì›Œí¬ì— ìœ„ì„í•œ ê²ƒìœ¼ë¡œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ğŸš«ê·¸ëŸ°ë° ì‹¤í–‰í–ˆë”ë‹ˆ<br>\n<code class=\"language-text\">Exception in thread \"main\" org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.demo.LottoService' available</code> ì—ëŸ¬ê°€ ë°œìƒí•˜ë„¤ìš” ğŸ¤”</p>\n<p>Spring ì˜ ë§ˆë²•ì„ ë³´ê¸°ìœ„í•´ì„œ ë¬´ì–¸ê°€ ì„¤ì •ì´ ë” í•„ìš”í•œê°€ ë´…ë‹ˆë‹¤. ğŸ˜‚\nìƒê°í•´ë³´ë‹ˆ ê·¸ëŸ´ ìˆ˜ ìˆì„ê²ƒ ê°™ì•„ìš”.<br>\nì™œëƒë©´ ë¬´ì—‡ì„ <code class=\"language-text\">Bean</code>ìœ¼ë¡œ ê´€ë¦¬í•´ì¤˜ë¼ê³  ì„¤ì •í•˜ì§€ ì•Šì•˜ê±°ë“ ìš”.</p>\n<p><code class=\"language-text\">Bean</code>ë“±ë¡ ë°©ë²•ì€ ì—„ì²­ ê°„ë‹¨í•©ë‹ˆë‹¤!<br>\n<code class=\"language-text\">XML</code>,<code class=\"language-text\">Java Config</code>, <code class=\"language-text\">Component Scan</code> ì´ë ‡ê²Œ <code class=\"language-text\">Bean</code>ì„ ë“±ë¡í•˜ëŠ” ë°©ë²•ì´ ìˆëŠ”ë°ìš”. ì´ë²ˆì—ëŠ” ë§ì´ ì‚¬ìš©í•˜ëŠ” <code class=\"language-text\">Component Scan</code> ë°©ì‹ì„ ì‚¬ìš©í•´ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<p><code class=\"language-text\">@Service</code> ì–´ë…¸í…Œì´ì…˜ì´ë€ ê²ƒë§Œ ë¶™ì—¬ì£¼ë©´ ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë©´ <code class=\"language-text\">Bean</code>ìœ¼ë¡œ ë“±ë¡í•´ì¤ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Service</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">LottoService</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">NumberGenerator</span> numberGenerator<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">LottoService</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">NumberGenerator</span> numberGenerator<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>numberGenerator <span class=\"token operator\">=</span> numberGenerator<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ë‹¤ì‹œ ì‹¤í–‰í•´ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<p><code class=\"language-text\">Parameter 0 of constructor in com.example.demo.LottoService required a bean of type 'com.example.demo.NumberGenerator' that could not be found.</code> ì—ëŸ¬ê°€ ë°œìƒí•˜ë„¤ìš” ğŸ¤”</p>\n<p><code class=\"language-text\">LottoService</code> ìƒì„±ìì˜ 0ë²ˆì§¸ íŒŒë¼ë¯¸í„°(<code class=\"language-text\">NumberGenerator</code>)ë¥¼ <code class=\"language-text\">Bean</code>ì—ì„œ ì°¾ì„ ìˆ˜ ê°€ ì—†ë°ìš” ğŸ˜±<br>\n<code class=\"language-text\">Bean</code>ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ê°ì²´ë¼ë©´ ë‹¹ì—°íˆ ìƒì„±ì ì£¼ì…í•´ì•¼í•˜ëŠ” ê°ì²´ ë˜í•œ <code class=\"language-text\">Bean</code>ì—ì„œ ì°¾ì„ìˆ˜ ìˆì–´ì•¼ í•  ê²ƒê°™ë„¤ìš” ğŸ˜‚</p>\n<p>ê·¸ëŸ¼ <code class=\"language-text\">NumberGenerator</code>ë„ <code class=\"language-text\">Bean</code>ìœ¼ë¡œ ë“±ë¡í•´ì£¼ë©´ ë©ë‹ˆë‹¤.<br>\n<code class=\"language-text\">@Component</code> ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì—¬ì£¼ë©´ ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë©´ <code class=\"language-text\">Bean</code>ìœ¼ë¡œ ë“±ë¡í•´ì¤ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RandomNumberGenerator</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">NumberGenerator</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">RandomNumberGenerator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">generate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Random</span> random <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> random<span class=\"token punctuation\">.</span><span class=\"token function\">nextInt</span><span class=\"token punctuation\">(</span><span class=\"token number\">45</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ë“œë””ì–´ ì¥ìƒì‘ë™ ë˜ë„¤ìš”.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.6)\n\n2023-05-17T17:10:59.007+09:00  INFO 73775 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 17.0.6 with PID 73775\n2023-05-17T17:10:59.008+09:00  INFO 73775 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: \"default\"\n2023-05-17T17:10:59.167+09:00  INFO 73775 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 0.267 seconds (process running for 0.447)\nLottoNumber{value=41}</code></pre></div>\n<h2 id=\"component-service-\" style=\"position:relative;\"><a href=\"#component-service-\" aria-label=\"component service  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>@Component, @Serviceâ€¦ ??</h2>\n<p><code class=\"language-text\">@Component, @Service, @Repository, @Controller</code> ë“±ì˜ ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ Beanìœ¼ë¡œ ë“±ë¡í•  í´ë˜ìŠ¤ì— ì§€ì • í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>\nìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ í´ë˜ìŠ¤íŒ¨ìŠ¤ë¥¼ ìŠ¤ìº”í•˜ì—¬ ì–´ë…¸í…Œì´ì…˜ì´ ì§€ì •ëœ í´ë˜ìŠ¤ë¥¼ ìë™ìœ¼ë¡œ Beanìœ¼ë¡œ ë“±ë¡í•©ë‹ˆë‹¤.</p>\n<p>ì´ì™€ ê°™ì€ ë°©ë²•ì„ ì‚¬ìš©í•˜ì—¬ Beanì„ ë“±ë¡í•˜ë©´ Spring IoC ì»¨í…Œì´ë„ˆê°€ í•´ë‹¹ Beanì„ ì¸ì‹í•˜ê³  í•„ìš”í•œ ê³³ì—ì„œ ì£¼ì…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<h1 id=\"ê·¸ëŸ°ë°-code-classlanguage-textnumbergeneratorcode-êµ¬í˜„ì²´ê°€-ì—¬ëŸ¬ê°œë©´-ë¬´ì—‡ì„-ì£¼ì…í• ì§€-ì–´ë–»ê²Œ-ì •í• ê¹Œ\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%9F%B0%EB%8D%B0-code-classlanguage-textnumbergeneratorcode-%EA%B5%AC%ED%98%84%EC%B2%B4%EA%B0%80-%EC%97%AC%EB%9F%AC%EA%B0%9C%EB%A9%B4-%EB%AC%B4%EC%97%87%EC%9D%84-%EC%A3%BC%EC%9E%85%ED%95%A0%EC%A7%80-%EC%96%B4%EB%96%BB%EA%B2%8C-%EC%A0%95%ED%95%A0%EA%B9%8C\" aria-label=\"ê·¸ëŸ°ë° code classlanguage textnumbergeneratorcode êµ¬í˜„ì²´ê°€ ì—¬ëŸ¬ê°œë©´ ë¬´ì—‡ì„ ì£¼ì…í• ì§€ ì–´ë–»ê²Œ ì •í• ê¹Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ¤”ê·¸ëŸ°ë° <code class=\"language-text\">NumberGenerator</code> êµ¬í˜„ì²´ê°€ ì—¬ëŸ¬ê°œë©´ ë¬´ì—‡ì„ ì£¼ì…í• ì§€ ì–´ë–»ê²Œ ì •í• ê¹Œ?</h1>\n<p><code class=\"language-text\">@Primary</code> ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.<br>\n<code class=\"language-text\">@Primary</code> ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ë©´ ì—¬ëŸ¬ê°œì˜ Bean ì¤‘ì—ì„œ ìš°ì„ ì ìœ¼ë¡œ ì£¼ì…í•  Beanì„ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token annotation punctuation\">@Primary</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RandomNumberGenerator</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">NumberGenerator</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">RandomNumberGenerator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">generate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Random</span> random <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> random<span class=\"token punctuation\">.</span><span class=\"token function\">nextInt</span><span class=\"token punctuation\">(</span><span class=\"token number\">45</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>í•˜ì§€ë§Œ ì´ë ‡ê²Œ ì‚¬ìš©í•˜ë©´ <code class=\"language-text\">NumberGenerator</code>ë¥¼ ì£¼ì…ë°›ëŠ” ëª¨ë“  ê³³ì—ì„œ <code class=\"language-text\">RandomNumberGenerator</code>ê°€ ì£¼ì…ë©ë‹ˆë‹¤.\n@Qualifier ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ë©´ ì£¼ì…í•  Beanì„ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token class-name\">LottoService</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"manualNumberGenerator\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">NumberGenerator</span> numberGenerator<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>numberGenerator <span class=\"token operator\">=</span> numberGenerator<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Â </p>\n<h1 id=\"ì–´ë…¸í…Œì´ì…˜\" style=\"position:relative;\"><a href=\"#%EC%96%B4%EB%85%B8%ED%85%8C%EC%9D%B4%EC%85%98\" aria-label=\"ì–´ë…¸í…Œì´ì…˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ§ì–´ë…¸í…Œì´ì…˜???</h1>\n<p><code class=\"language-text\">@Service</code> ì´ëŸ°ê²ƒì„ í´ë˜ìŠ¤ë‚˜ ë©”ì†Œë“œ ìœ„ì— ë¶™ì´ëŠ” ê²ƒì„ ë§í•©ë‹ˆë‹¤.<br>\nì‰½ê²Œ ë§í•´ ì£¼ì„ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ì¢€ ë” ì˜ë¯¸ìˆëŠ” ì£¼ì„ì´ë¼ê³  ë³´ë©´ ë©ë‹ˆë‹¤.<br>\ní”„ë ˆì„ì›Œí¬ë‹¨ì—ì„œ <code class=\"language-text\">@Service</code>ì´ê²Œ ë¶™ì–´ ìˆìœ¼ë©´ ì•„ ì´ê±´ ì´ëŸ° ê¸°ëŠ¥ì„ í•˜ëŠ” í´ë˜ìŠ¤ í˜¹ì€ ë©”ì†Œë“œêµ¬ë‚˜ ì¸ì‹í•˜ë„ë¡ ì£¼ì„ì„ ë‹¬ì•„ ë†“ì•˜ë‹¤ê³  ë³´ë©´ ë©ë‹ˆë‹¤.</p>\n<blockquote>\n<p>ì–´ë…¸í…Œì´ì…˜ì€ ëŸ°íƒ€ì„ì— ë¦¬í”Œë ‰ì…˜ì„ í†µí•´ ì½ì–´ë“¤ì¼ ìˆ˜ë„ ìˆìœ¼ë©°, í”„ë ˆì„ì›Œí¬ë‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ íŠ¹ì • ê¸°ëŠ¥ì„ í™œì„±í™”í•˜ê±°ë‚˜ ì„¤ì •í•  ë•Œ ì‚¬ìš©ë  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</p>\n</blockquote>","frontmatter":{"date":"May 17, 2023","title":"ë„ëŒ€ì²´ IOC?","categories":"í”„ë¡œê·¸ë˜ë°","author":"wooobo","emoji":"ğŸ”®"},"fields":{"slug":"/what-is-di/2023-05-16-Ioc/"}},"prev":{"id":"a872a3dc-6094-57fb-a66b-87198c7fc118","html":"<h2 id=\"ìƒˆë¡œìš´-ìš”êµ¬ì‚¬í•­\" style=\"position:relative;\"><a href=\"#%EC%83%88%EB%A1%9C%EC%9A%B4-%EC%9A%94%EA%B5%AC%EC%82%AC%ED%95%AD\" aria-label=\"ìƒˆë¡œìš´ ìš”êµ¬ì‚¬í•­ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ìƒˆë¡œìš´ ìš”êµ¬ì‚¬í•­</h2>\n<blockquote>\n<p>íŒ€ì¥: ì˜ êµ¬í˜„ í•´ì£¼ì…¨êµ°ìš”. ëŒ€ëµì ì¸ ì¿ í° ë°œí–‰ì— ëŒ€í•´ ì´í•´ë„ê°€ ë†’ì•„ì§„ê²ƒ ê°™ë„¤ìš”. ì„œë²„ë¡œ ì´ì œ êµ¬í˜„í•´ì£¼ì„¸ìš”.</p>\n</blockquote>\n<h2 id=\"ì„¸íŒ…í•˜ê¸°\" style=\"position:relative;\"><a href=\"#%EC%84%B8%ED%8C%85%ED%95%98%EA%B8%B0\" aria-label=\"ì„¸íŒ…í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì„¸íŒ…í•˜ê¸°</h2>\n<div class=\"gatsby-highlight\" data-language=\"gradle\"><pre class=\"language-gradle\"><code class=\"language-gradle\"># build<span class=\"token punctuation\">.</span>gradle\n<span class=\"token punctuation\">...</span>\n\n<span class=\"token keyword\">dependencies</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">implementation</span> <span class=\"token string\">'org.springframework.boot:spring-boot-starter'</span>\n    <span class=\"token keyword\">implementation</span> <span class=\"token string\">'org.springframework.boot:spring-boot-starter-data-jpa'</span>\n    <span class=\"token keyword\">implementation</span> <span class=\"token string\">'org.springframework.boot:spring-boot-starter-web'</span>\n    <span class=\"token keyword\">implementation</span> <span class=\"token string\">'com.google.guava:guava:30.1-jre'</span>\n\n    <span class=\"token keyword\">implementation</span> <span class=\"token string\">'com.mysql:mysql-connector-j'</span>\n\n    testImplementation <span class=\"token string\">'com.h2database:h2'</span>\n    testImplementation <span class=\"token string\">'org.springframework.boot:spring-boot-starter-test'</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">...</span>\n\n<span class=\"token operator\">--</span><span class=\"token operator\">-</span>\n\n# Application\n\n<span class=\"token annotation punctuation\">@SpringBootApplication</span>\npublic class <span class=\"token class-name\">DemoApplication</span> <span class=\"token punctuation\">{</span>\n\n    public static void <span class=\"token function\">main</span><span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        SpringApplication<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span>DemoApplication<span class=\"token punctuation\">.</span>class<span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"ë°œê¸‰-ì„œë¹„ìŠ¤\" style=\"position:relative;\"><a href=\"#%EB%B0%9C%EA%B8%89-%EC%84%9C%EB%B9%84%EC%8A%A4\" aria-label=\"ë°œê¸‰ ì„œë¹„ìŠ¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë°œê¸‰ ì„œë¹„ìŠ¤</h2>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CouponTicketDistribution</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">int</span> <span class=\"token constant\">COUNT</span> <span class=\"token operator\">=</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">LinkedBlockingQueue</span><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CouponTicket</span><span class=\"token punctuation\">></span><span class=\"token punctuation\">></span></span> tickets<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">CouponRepository</span> couponRepository<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">CouponTicketDistribution</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">CouponRepository</span> couponRepository<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>tickets <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>couponRepository <span class=\"token operator\">=</span> couponRepository<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">synchronized</span> <span class=\"token class-name\">CouponTicket</span> <span class=\"token function\">publish</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> couponId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">LinkedBlockingQueue</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CouponTicket</span><span class=\"token punctuation\">></span></span> queue <span class=\"token operator\">=</span> <span class=\"token function\">getCouponTickets</span><span class=\"token punctuation\">(</span>couponId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>queue<span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CouponTicket</span><span class=\"token punctuation\">></span></span> couponTickets <span class=\"token operator\">=</span> <span class=\"token function\">getTickets</span><span class=\"token punctuation\">(</span>couponId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                couponTickets<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>queue<span class=\"token operator\">::</span><span class=\"token function\">offer</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">IllegalArgumentException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> queue<span class=\"token punctuation\">.</span><span class=\"token function\">poll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CouponTicket</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">getTickets</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> couponId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Coupon</span> coupon <span class=\"token operator\">=</span> couponRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findById</span><span class=\"token punctuation\">(</span>couponId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CouponTicket</span><span class=\"token punctuation\">></span></span> couponTickets <span class=\"token operator\">=</span> coupon<span class=\"token punctuation\">.</span><span class=\"token function\">publish</span><span class=\"token punctuation\">(</span><span class=\"token constant\">COUNT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        couponRepository<span class=\"token punctuation\">.</span><span class=\"token function\">saveAndFlush</span><span class=\"token punctuation\">(</span>coupon<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> couponTickets<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">LinkedBlockingQueue</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CouponTicket</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">getCouponTickets</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> couponId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">LinkedBlockingQueue</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CouponTicket</span><span class=\"token punctuation\">></span></span> queue <span class=\"token operator\">=</span> tickets<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>couponId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>queue <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            queue <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LinkedBlockingQueue</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            tickets<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>couponId<span class=\"token punctuation\">,</span> queue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> queue<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"ë™ì‹œ-ìš”ì²­-í…ŒìŠ¤íŠ¸\" style=\"position:relative;\"><a href=\"#%EB%8F%99%EC%8B%9C-%EC%9A%94%EC%B2%AD-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\"ë™ì‹œ ìš”ì²­ í…ŒìŠ¤íŠ¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë™ì‹œ ìš”ì²­ í…ŒìŠ¤íŠ¸</h2>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@SpringBootTest</span>\n<span class=\"token annotation punctuation\">@ActiveProfiles</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CouponTicketDistributionTest</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">CouponRepository</span> couponRepository<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token class-name\">CouponTicketDistribution</span> couponTicketDistribution<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Test</span>\n    <span class=\"token keyword\">void</span> <span class=\"token function\">traffic</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">InterruptedException</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> <span class=\"token constant\">LIMIT</span> <span class=\"token operator\">=</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">Coupon</span> coupon <span class=\"token operator\">=</span> couponRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Coupon</span><span class=\"token punctuation\">.</span><span class=\"token function\">limitOf</span><span class=\"token punctuation\">(</span><span class=\"token constant\">LIMIT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">int</span> numberOfThreads <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token constant\">LIMIT</span> <span class=\"token operator\">*</span> <span class=\"token number\">1.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">ExecutorService</span> executorService <span class=\"token operator\">=</span> <span class=\"token class-name\">Executors</span><span class=\"token punctuation\">.</span><span class=\"token function\">newFixedThreadPool</span><span class=\"token punctuation\">(</span>numberOfThreads<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">CountDownLatch</span> latch <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CountDownLatch</span><span class=\"token punctuation\">(</span>numberOfThreads<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">AtomicInteger</span> activeCount <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AtomicInteger</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">AtomicInteger</span> errorCount <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AtomicInteger</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Long</span><span class=\"token punctuation\">></span></span> times <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> numberOfThreads<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">int</span> finalI <span class=\"token operator\">=</span> i<span class=\"token punctuation\">;</span>\n            executorService<span class=\"token punctuation\">.</span><span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">long</span> startTime <span class=\"token operator\">=</span> <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span><span class=\"token function\">currentTimeMillis</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">long</span> stackTime <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n                    <span class=\"token class-name\">CouponTicket</span> actual <span class=\"token operator\">=</span> couponTicketDistribution<span class=\"token punctuation\">.</span><span class=\"token function\">publish</span><span class=\"token punctuation\">(</span>coupon<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>actual <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        errorCount<span class=\"token punctuation\">.</span><span class=\"token function\">getAndIncrement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                        activeCount<span class=\"token punctuation\">.</span><span class=\"token function\">getAndIncrement</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span>\n\n                    times<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token function\">timeLog</span><span class=\"token punctuation\">(</span>finalI<span class=\"token punctuation\">,</span> startTime<span class=\"token punctuation\">,</span> stackTime<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ë°œê¸‰ë¶ˆê°€ : \"</span> <span class=\"token operator\">+</span> finalI <span class=\"token operator\">+</span> <span class=\"token string\">\" / \"</span> <span class=\"token operator\">+</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">getMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n                latch<span class=\"token punctuation\">.</span><span class=\"token function\">countDown</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        latch<span class=\"token punctuation\">.</span><span class=\"token function\">await</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token function\">assertAll</span><span class=\"token punctuation\">(</span>\n                <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>activeCount<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span><span class=\"token constant\">LIMIT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token function\">assertThat</span><span class=\"token punctuation\">(</span>errorCount<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isEqualTo</span><span class=\"token punctuation\">(</span>numberOfThreads <span class=\"token operator\">-</span> <span class=\"token constant\">LIMIT</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 249px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 70%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/klEQVQ4y3WTWU/bUBSE+TeUOImX2I4T7/ESJ3EWArRAQ2mFqJBa9f+/TTXDIlDMg3UXn3vON2fuPTkbJOiZGQwzQ2+YwjBz9K2Z5meDFAO7eNvvDbN3c/5P8KUfa3z9ToZOiXLxC2F6BXNUYxydo1n/Rph9hTfdYHPxD0F0jrz+obUbrFE096iWD7C8BqdG+DEhK5mjSlW5QSLTnYuSe7a30HzoVG97w1GlNc92EhbNT8SzG5huDT/coW4fMU2v4E02aPd/MY52yKoDvMkabtCKlqosd/4ZYa2q7NHALiWFpIaVwxkvRcaYV0IW5prxR4QDp8Rsfo8o/6Ygf7pFtXp4IVxjtfuDcbhDWn4X3ShYIavuUDSfEmb60bee3WRvHH8pUhIxCWkZw5F7VMB1N6FdqCfT5FKEpGJ/JsmlHF1sn0SdFLcYkXC8Ei1VdROaGWx/IWd5F5mUB+WqXcAPt6BxjOHIPSqwvUbxnYRpeXghrCSR1YN4r8Tz9lFuR/m1DGKypLhBXt8J4tSIPiaka5RhiTBXfyiRpOzjJL5QIZrBkSYyKT/GHxGyybyDJKIkUmTlQS+Gc/aT1HSdsik1nl2rjyzaSUgjGEjXeIjJSMw+6km6c8Xw/nFP5gSt7ukxIXtY3IqQEimf/QmiveZ8s+5krbctM/yFHOdd7CL8DyU811n0UyhFAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"coupon 2 01\"\n        title=\"coupon 2 01\"\n        src=\"/static/c9bed6f6b9b387f9037a95745e81cff4/6a5fb/coupon-2-01.png\"\n        srcset=\"/static/c9bed6f6b9b387f9037a95745e81cff4/e9ff0/coupon-2-01.png 180w,\n/static/c9bed6f6b9b387f9037a95745e81cff4/6a5fb/coupon-2-01.png 249w\"\n        sizes=\"(max-width: 249px) 100vw, 249px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ì˜¤ë˜ê±¸ë¦¬ëŠ” ì‘ì—…ì€ <code class=\"language-text\">126ms</code> ê¹Œì§€ ë‚˜ì™”ë‹¤.<br>\nì¢€ ë” ë¹¨ë¦¬ í•  ìˆ˜ ì—†ì„ê¹Œ? ê³ ë¯¼ì´ ë˜ì—ˆë‹¤.</p>\n<p><em>ì´ë¯¸ ë°œê¸‰ì´ ì¢…ë£Œë˜ì—ˆë‹¤ë©´ ë¹ ë¥´ê²Œ ë¦¬í„´í•˜ë©´ ì¢‹ì§€ ì•Šì„ê¹Œ?</em></p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">    <span class=\"token keyword\">public</span> <span class=\"token keyword\">synchronized</span> <span class=\"token class-name\">CouponTicket</span> <span class=\"token function\">publish</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> couponId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isFinal<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span> <span class=\"token operator\">&lt;=</span><span class=\"token operator\">=</span> ë¹ ë¥´ê²Œ ë¦¬í„´\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n   <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CouponTicket</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">getTickets</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> couponId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Coupon</span> coupon <span class=\"token operator\">=</span> couponRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findById</span><span class=\"token punctuation\">(</span>couponId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">updateIsFinal</span><span class=\"token punctuation\">(</span>coupon<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> # <span class=\"token operator\">&lt;=</span><span class=\"token operator\">=</span> ì¶”ê°€\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CouponTicket</span><span class=\"token punctuation\">></span></span> couponTickets <span class=\"token operator\">=</span> coupon<span class=\"token punctuation\">.</span><span class=\"token function\">publish</span><span class=\"token punctuation\">(</span><span class=\"token constant\">COUNT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        couponRepository<span class=\"token punctuation\">.</span><span class=\"token function\">saveAndFlush</span><span class=\"token punctuation\">(</span>coupon<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> couponTickets<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>í…ŒìŠ¤íŠ¸ ê²°ê³¼ <code class=\"language-text\">58ms</code>ë¡œ ì ˆë°˜ ì •ë„ ì‹œê°„ì´ ë‹¨ì¶•ë˜ì—ˆë‹¤.</strong></p>\n<h2 id=\"ì¤‘ê°„ì ê²€\" style=\"position:relative;\"><a href=\"#%EC%A4%91%EA%B0%84%EC%A0%90%EA%B2%80\" aria-label=\"ì¤‘ê°„ì ê²€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì¤‘ê°„ì ê²€</h2>\n<ul>\n<li>ì¿ í°ì´ ë°œê¸‰í•´ì•¼ë˜ëŠ” ì–‘ë§Œí¼ ì •í™•íˆ ë°œê¸‰ í…ŒìŠ¤íŠ¸ ì™„ë£Œ</li>\n<li>100ms ì´í•˜ ì²˜ë¦¬ ì†ë„ í…ŒìŠ¤íŠ¸ ì™„ë£Œ</li>\n</ul>\n<h2 id=\"ì„œë²„-ë¶€í•˜-í…ŒìŠ¤íŠ¸ë¥¼-ìœ„í•œ-ì¤€ë¹„\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%B2%84-%EB%B6%80%ED%95%98-%ED%85%8C%EC%8A%A4%ED%8A%B8%EB%A5%BC-%EC%9C%84%ED%95%9C-%EC%A4%80%EB%B9%84\" aria-label=\"ì„œë²„ ë¶€í•˜ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì¤€ë¹„ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì„œë²„ ë¶€í•˜ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì¤€ë¹„</h2>\n<h3 id=\"ì»¨íŠ¸ë¡¤ëŸ¬\" style=\"position:relative;\"><a href=\"#%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC\" aria-label=\"ì»¨íŠ¸ë¡¤ëŸ¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì»¨íŠ¸ë¡¤ëŸ¬</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@RestController</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CouponController</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">CouponTicketDistribution</span> couponTicketDistribution<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">CouponController</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">CouponTicketDistribution</span> couponTicketDistribution<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>couponTicketDistribution <span class=\"token operator\">=</span> couponTicketDistribution<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"api/index\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">TicketDto</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">index</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">CouponTicket</span> couponTicket <span class=\"token operator\">=</span> couponTicketDistribution<span class=\"token punctuation\">.</span><span class=\"token function\">publish</span><span class=\"token punctuation\">(</span><span class=\"token number\">1L</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>couponTicket <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token punctuation\">.</span><span class=\"token function\">ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">body</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">TicketDto</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span>couponTicket<span class=\"token punctuation\">.</span><span class=\"token function\">getCouponId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token punctuation\">.</span><span class=\"token function\">ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">body</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">TicketDto</span><span class=\"token punctuation\">.</span><span class=\"token function\">fail</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>CouponTicket ë˜í•œ ë°œê¸‰í•˜ê³  ë°ì´í„° ë² ì´ìŠ¤ì— ì €ì¥ ì½”ë“œë¥¼ ì¶”ê°€í•˜ì˜€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"># <span class=\"token class-name\">CouponTicketDistribution</span>\n\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">synchronized</span> <span class=\"token class-name\">CouponTicket</span> <span class=\"token function\">publish</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> couponId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n       <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n        <span class=\"token class-name\">CouponTicket</span> couponTicket <span class=\"token operator\">=</span> queue<span class=\"token punctuation\">.</span><span class=\"token function\">poll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>couponTicket <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            couponTicketRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>couponTicket<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token operator\">&lt;=</span><span class=\"token operator\">=</span> ì¿ í°í‹°ì¼“ <span class=\"token constant\">DB</span>ì €ì¥ \n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<h2 id=\"ë¶€í•˜-í…ŒìŠ¤íŠ¸\" style=\"position:relative;\"><a href=\"#%EB%B6%80%ED%95%98-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\"ë¶€í•˜ í…ŒìŠ¤íŠ¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¶€í•˜ í…ŒìŠ¤íŠ¸</h2>\n<p>API ë¶€í•˜ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ê³ ì í•œë‹¤.<br>\në¶€í•˜ í…ŒìŠ¤íŠ¸ëŠ” ì‘ë‹µì‹œê°„ë§Œ ê°„ë‹¨í•˜ê²Œ ì²´í¬ í•  ê²ƒì´ê¸° ë–„ë¬¸ì—, K6 ë¶€í•˜ í…ŒìŠ¤íŠ¸ë¥¼ í™œìš©í•œë‹¤.<br>\n<a href=\"https://k6.io/\">k6.io</a></p>\n<h3 id=\"k6-í…ŒìŠ¤íŠ¸-ìŠ¤í¬ë¦½íŠ¸\" style=\"position:relative;\"><a href=\"#k6-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8\" aria-label=\"k6 í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>K6 í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"># script<span class=\"token punctuation\">.</span>js\n<span class=\"token keyword\">import</span> http <span class=\"token keyword\">from</span> <span class=\"token string\">'k6/http'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>check<span class=\"token punctuation\">,</span> sleep<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'k6'</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">stages</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">duration</span><span class=\"token operator\">:</span> <span class=\"token string\">\"10s\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">target</span><span class=\"token operator\">:</span> <span class=\"token number\">500</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">duration</span><span class=\"token operator\">:</span> <span class=\"token string\">\"10s\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">target</span><span class=\"token operator\">:</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">duration</span><span class=\"token operator\">:</span> <span class=\"token string\">\"10s\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">target</span><span class=\"token operator\">:</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">duration</span><span class=\"token operator\">:</span> <span class=\"token string\">\"10s\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">target</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">thresholds</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">http_req_duration</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'p(99)&lt;100'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> http<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://localhost:8080/api/index'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">check</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token string-property property\">'status was 200'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">r</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> r<span class=\"token punctuation\">.</span>status <span class=\"token operator\">===</span> <span class=\"token number\">200</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">check</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token string-property property\">'error'</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">r</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>error <span class=\"token operator\">===</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><em>ë†’ì€ íŠ¸ë˜í”½ì—ì„œì˜ ì†ë„ë§Œ ì¸¡ì •í• ê²ƒì´ê¸° ë•Œë¬¸ì— ì‹œê°„ì€ ê¸¸ê²Œí•˜ì§€ ì•Šì•˜ë‹¤.</em></p>\n<p><img src=\"coupon-2-02.png\" alt=\"\"></p>\n<p><strong>ì‘ë‹µì‹œê°„ì´ ë§Œì¡±ìŠ¤ëŸ½ì§€ ì•Šë‹¤.</strong></p>\n<p><em>ì–´ë””ì—ì„œ ì§€ì—°ì´ ë˜ëŠ”ê±¸ê¹Œ?</em></p>\n<p>ì•„ë¬´ë˜ë„ â€œCouponTicketâ€ì„ DBì— ì €ì¥í•˜ëŠ” ë¹„ìš©ì´ ê°€ì¥ ì»¤ë³´ì¸ë‹¤.</p>\n<blockquote>\n<p>couponTicketRepository.save(couponTicket); &#x3C;== ì¿ í°í‹°ì¼“ DBì €ì¥<br>\nì œê±°í•˜ê³  ë‹¤ì‹œ í…ŒìŠ¤íŠ¸ í•´ë³¸ë‹¤.</p>\n</blockquote>\n<p><strong>ê²°ê³¼</strong></p>\n<blockquote>\n<p>avg=4.5ms min=80Âµs med=1.11ms max=121.67ms p(90)=12.68ms p(95)=18.76ms</p>\n</blockquote>\n<p>ì‘ë‹µì´ ë¹¨ë¼ì¡Œë‹¤. ì˜ˆìƒëŒ€ë¡œ DBì €ì¥í• ë•Œ ë¶€í•˜ê°€ ë§ì´ ë°œìƒí•˜ëŠ”ê²ƒìœ¼ë¡œ í™•ì¸í–ˆë‹¤.</p>\n<h3 id=\"ë¶€í•˜ë¡œì§ì„-ë¹„ë™ê¸°-ì²˜ë¦¬ë¡œ\" style=\"position:relative;\"><a href=\"#%EB%B6%80%ED%95%98%EB%A1%9C%EC%A7%81%EC%9D%84-%EB%B9%84%EB%8F%99%EA%B8%B0-%EC%B2%98%EB%A6%AC%EB%A1%9C\" aria-label=\"ë¶€í•˜ë¡œì§ì„ ë¹„ë™ê¸° ì²˜ë¦¬ë¡œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¶€í•˜ë¡œì§ì„ ë¹„ë™ê¸° ì²˜ë¦¬ë¡œ</h3>\n<p>êµ³ì´ DB ì €ì¥ê¹Œì§€ ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬ í•  í•„ìš”ê°€ ìˆì„ê¹Œ?<br>\në¶€í•˜ê°€ ê±¸ë¦¬ëŠ” ì‘ì—…ì€ ë¹„ë™ê¸°ë¡œ ë¶„ë¦¬í•˜ë©´ ì–´ë–¨ê¹Œ?</p>\n<p><strong>As-IS</strong></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 26.111111111111107%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA2UlEQVQY03VQ0WqEMBDM1/oF/off4R8Igq+Bs/QotpSzpbaC1zQxoojJ6alTsmDxSjuwyzA7OwnLAKBpGkzThD3WdcX5/Amtmxt9nmeq/8Dc0PM8ZFlGglI17OWCYRggpYIQXzDGEneIoghhGBJvuw5t29FngiBAXddgrvm+D845mdK7ewpxplP+iqL4gDEGnB9wvc5I0xRJkpD3rXjH49Mz8TiO0fc92LIsEELQ0h7WWhyPD8jzlxtdKQUpJZ1kD601xnEE2+61GdwDW2BZlqiq6mf+O+Qv/RvgSHr45w4+eQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"coupon 2 03\"\n        title=\"coupon 2 03\"\n        src=\"/static/ae4f764ffe96045e5afaa1045b011e2c/37523/coupon-2-03.png\"\n        srcset=\"/static/ae4f764ffe96045e5afaa1045b011e2c/e9ff0/coupon-2-03.png 180w,\n/static/ae4f764ffe96045e5afaa1045b011e2c/f21e7/coupon-2-03.png 360w,\n/static/ae4f764ffe96045e5afaa1045b011e2c/37523/coupon-2-03.png 720w,\n/static/ae4f764ffe96045e5afaa1045b011e2c/5caea/coupon-2-03.png 996w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><strong>To-Be</strong></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.22222222222222%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA1klEQVQY022QUU+DMBSF+6/5V+5JY3z1TYHExeB40Lk5BnSk3YBJIcBnug1CDCe56W3T7/TcCibq+/5S/88GtYAuCqKvT54f7tnuduR5gVIa3/fxPA9hAdd1qet6BO2lfZzQtu1tn/O9XrMPV6TvS6o3n4+nR7ZxTG0MZVkipSRJEkRVVTiOg5QpaSqRhwPH44nN5get9cU4CALuFgv4PcO5ZE7DdKJpGsIwxBiD7W2qKIp4eb2mtmUTZFl2BW9w13WjyfRbxNxr1kApNY48BQd4brUJ/wBlJ38KACG0ZQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"coupon 2 04\"\n        title=\"coupon 2 04\"\n        src=\"/static/a83265200dc2b80af4329f404d78cbeb/37523/coupon-2-04.png\"\n        srcset=\"/static/a83265200dc2b80af4329f404d78cbeb/e9ff0/coupon-2-04.png 180w,\n/static/a83265200dc2b80af4329f404d78cbeb/f21e7/coupon-2-04.png 360w,\n/static/a83265200dc2b80af4329f404d78cbeb/37523/coupon-2-04.png 720w,\n/static/a83265200dc2b80af4329f404d78cbeb/302a4/coupon-2-04.png 1080w,\n/static/a83265200dc2b80af4329f404d78cbeb/21b4d/coupon-2-04.png 1280w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>ì´ë²¤íŠ¸</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RegisteredCouponTicketEvent</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">CouponTicket</span> couponTicket<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">RegisteredCouponTicketEvent</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">CouponTicket</span> couponTicket<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>couponTicket <span class=\"token operator\">=</span> couponTicket<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">CouponTicket</span> <span class=\"token function\">getTicket</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> couponTicket<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>í•¸ë“¤ëŸ¬</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CouponTicketHandler</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">CouponTicketRepository</span> couponTicketRepository<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">CouponTicketHandler</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">CouponTicketRepository</span> couponTicketRepository<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>couponTicketRepository <span class=\"token operator\">=</span> couponTicketRepository<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Async</span>\n    <span class=\"token annotation punctuation\">@EventListener</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">RegisteredCouponTicketEvent</span> event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        couponTicketRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span><span class=\"token function\">getTicket</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>CouponTicketDistribution ìˆ˜ì •</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CouponTicketDistribution</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">ApplicationEventPublisher</span> applicationEventPublisher<span class=\"token punctuation\">;</span> <span class=\"token operator\">&lt;=</span><span class=\"token operator\">=</span> ì¶”ê°€\n\n  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">synchronized</span> <span class=\"token class-name\">CouponTicket</span> <span class=\"token function\">publish</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> couponId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n     <span class=\"token class-name\">CouponTicket</span> couponTicket <span class=\"token operator\">=</span> queue<span class=\"token punctuation\">.</span><span class=\"token function\">poll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     applicationEventPublisher<span class=\"token punctuation\">.</span><span class=\"token function\">publishEvent</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">RegisteredCouponTicketEvent</span><span class=\"token punctuation\">(</span>couponTicket<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n     <span class=\"token keyword\">return</span> queue<span class=\"token punctuation\">.</span><span class=\"token function\">poll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ë‹¤ì‹œ í…ŒìŠ¤íŠ¸ ì§„í–‰</p>\n<p><strong>ê²°ê³¼</strong></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 8.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAfElEQVQI1yXMWw6DIBRAQTfUR9oUEFC4CKhoTZPufy2nif2Y3+mSqiRd8feAvQ30F8f4EGTYiWYm2fbnNpLfELOQ5EPq15OMbyazEF2j+Ea3DAfFNuIrE54Je/VMbqPkL0EXoq6IXcnhQFwjqIKMO6IrUZUzElUIpiL9zA/mikX8oHYGUAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"coupon 2 05\"\n        title=\"coupon 2 05\"\n        src=\"/static/6abcf615c7c89ba797745f140df428a3/37523/coupon-2-05.png\"\n        srcset=\"/static/6abcf615c7c89ba797745f140df428a3/e9ff0/coupon-2-05.png 180w,\n/static/6abcf615c7c89ba797745f140df428a3/f21e7/coupon-2-05.png 360w,\n/static/6abcf615c7c89ba797745f140df428a3/37523/coupon-2-05.png 720w,\n/static/6abcf615c7c89ba797745f140df428a3/a1792/coupon-2-05.png 780w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬í•˜ì—¬ ì†ë„ê°€ í–¥ìƒë˜ì—ˆë‹¤. í•˜ì§€ë§Œ ë¬¸ì œì ë“¤ì´ ë³´ì˜€ë‹¤.</p>\n<h2 id=\"í˜„ì¬-ë¬¸ì œì \" style=\"position:relative;\"><a href=\"#%ED%98%84%EC%9E%AC-%EB%AC%B8%EC%A0%9C%EC%A0%90\" aria-label=\"í˜„ì¬ ë¬¸ì œì  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í˜„ì¬ ë¬¸ì œì </h2>\n<p>âš¡ï¸ë¡œì»¬ ìºì‰¬ ì´ìŠˆâš¡ï¸</p>\n<p><strong>1. ì„œë²„ê°€ ë‹¤ìš´ë˜ë©´ ë¡œì»¬ìºì‰¬ê°€ ëª¨ë‘ ì¦ë°œí•˜ê¸° ë•Œë¬¸ì— ë°ì´í„° ë¶ˆì¼ì¹˜ê°€ ë°œìƒí•œë‹¤.</strong></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABeklEQVQoz22STW+CQBCG+f8HE03a3+BRTXrwqvQg9aY91GoIxAhqamX52F12l7eZFZCQTrKw7AzPzrwzTlVVKMsSUkporUFmjAGdN9bu67cMviC/N4/Y+p8mzuGcI89zZFmGNE0trIGOx2NEUWS/lVLIshRcVfjdviPZuC3oeDxiuVzavUOZJUmC8/lsDyjb3W4H3/cxHA4RBIE953kOujw8nXBL0vaSOI6xWCwwGo0eQMrkcDhgMplgOp3C8zwLpODr9WohlTEQnINLCXO54PPDg7dew1utsN/vcb/fEYbhA0gP13UxGAwskACNkQxKa6uTKAoUUkK8zTB/fcFsPm/jqCqCthpSebTIQRn3m6KVQikEfm43+NstoiCAqf3dptgMCSiEsDBqSrdj3UUTwBgDyzIkjCEvimdsZxIc2lBjCEq6kRbUpC60MfKXUqJUCrrIoeMIOjrBpOw5NugZadHo2MD64JoOw5iFVUI8gf3S+sPch/4L75T8B7WX/7k/ArVLAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"coupon 2 06\"\n        title=\"coupon 2 06\"\n        src=\"/static/94c414c7a996757821ed32c60ef7f79a/37523/coupon-2-06.png\"\n        srcset=\"/static/94c414c7a996757821ed32c60ef7f79a/e9ff0/coupon-2-06.png 180w,\n/static/94c414c7a996757821ed32c60ef7f79a/f21e7/coupon-2-06.png 360w,\n/static/94c414c7a996757821ed32c60ef7f79a/37523/coupon-2-06.png 720w,\n/static/94c414c7a996757821ed32c60ef7f79a/302a4/coupon-2-06.png 1080w,\n/static/94c414c7a996757821ed32c60ef7f79a/21b4d/coupon-2-06.png 1280w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><strong>2. ì•ˆì •ëœ ì„œë¹„ìŠ¤ ìš´ì˜ì„ ìœ„í•´ ì„œë²„ ì´ì¤‘í™”ê°€ í•„ìš”í•œë°, í˜„ì¬ êµ¬ì¡°ë¡œëŠ” ì„œë²„ í•˜ë‚˜ì¼ ê²½ìš°ë§Œ ë°ì´í„° ë¬´ê²°ì„±,ì •í•©ì„±ì´ ìœ ì§€ëœë‹¤.</strong></p>\n<ul>\n<li>í˜„ì¬ êµ¬ì¡°ì—ì„œ ì„œë²„ë¥¼ ëŠ˜ë¦´ê²½ìš°</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 524px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 115.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAABYlAAAWJQFJUiTwAAAClElEQVQ4y51VOWtqQRj1N2nvLxCxTGmTwsZGCQHBSglWgqVICIhImkAsUqhViLFwyVK4QdxRE02i4h7jCWfCXK7LS8wbmHvnznLmfOd8M1eDPcpqtfrxrW5r+Hh9fUWv18P7+zva7Tbe3t7EN6t6sazL5RKfn5+in+2Pjw9ljmaxWKDVau1kxP75fC7aBOBidXl+fobT6cTR0RGenp6+GRKw3+9jOByiUCjg9vYW5XJZsGXfZDJZAxoMBohEIuh0Omg2m7DZbLBarbi7u1sHZJjpdBqJRAKlUkksYCjBYFC0K5UK/H4/3G43Li4uICPT6/XQ6XTrgFywq3CSwWBAIBCAz+dDKpVaGyf76+trxGIxTKfTb0CyYHhSYLKVIudyOZhMJrhcri19z87OEI1Gt7TXUHQ6y3J+fg6z2YzT01PxLTciM7IJh8MoFovwer0IhUKYzWZCc7ar1eo2QwIdHh6KEMm0Xq8L4RkO53Hs4OBACZ3Od7tdNBoNsaGioWTocDhgt9uV8Fk4TjBG4vF4cHx8jKurK0WWrZA5wMTmbnTt/v5eDNRqNeH2y8uLSPDxeLyWOuqE51rlpJAJXWa6sGYyGcU95hs3yOfzAnQzG9RHTxYRMllQM+pF3TZPBL85j8zUx3AX6JopLExwKbAamI5y438xUwAZP12Sl4O0n+lBg05OTjAajQQ4N/sVUDKhiwSXjieTSVgsFnHwyUymyK+Am4O8QSSgVquF0WgU7LnpXiFvikxzqBffl5eXiMfjol+t9Z8AyeLx8RHZbFakzMPDA25ubgTYXiFvAvIOJCjvRALTJF6edJ5jfwakhpt5KI+g1PdPgOr/ChOZbNnH4/lfGjI9GB5vGKYS2zSJVf6YfgL8AvMCvGJA9JSOAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"coupon 2 07\"\n        title=\"coupon 2 07\"\n        src=\"/static/3b63cd3403cbc0b87014fe9d79a3aeb0/664c8/coupon-2-07.png\"\n        srcset=\"/static/3b63cd3403cbc0b87014fe9d79a3aeb0/e9ff0/coupon-2-07.png 180w,\n/static/3b63cd3403cbc0b87014fe9d79a3aeb0/f21e7/coupon-2-07.png 360w,\n/static/3b63cd3403cbc0b87014fe9d79a3aeb0/664c8/coupon-2-07.png 524w\"\n        sizes=\"(max-width: 524px) 100vw, 524px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ì¿ í°í‹°ì¼“ì€ ë°œí–‰ ì œí•œì„ ì‹œì¼œì•¼í•œë‹¤.<br>\nì„œë²„ë§Œ ì¦ì„¤í•œë‹¤ë©´ ê°ì ìºì‰¬ë¥¼ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— ì •í•©ì„±ì„ ì§€í‚¬ ìˆ˜ ì—†ë‹¤.<br>\nì„œë²„ê°„ì˜ ì¡´ì¬ë¥¼ ì¤‘ì¬í•´ì¤„ìˆ˜ ìˆëŠ” ì—­í• ì´ í•„ìš”í•˜ê±°ë‚˜ <strong>ê¸€ë¡œë²Œ ìºì‰¬ ì„œë²„</strong>ê°€ í•„ìš” í•  ê²ƒ ê°™ë‹¤.</p>\n<p><strong>3. CouponTicket ìƒì„± ì´ë²¤íŠ¸ê°€ ì‹¤íŒ¨í•œë‹¤ë©´?</strong></p>\n<ul>\n<li>í›„ì† ì²˜ë¦¬ê°€ í•„ìš”í•˜ë‹¤. ìœ ì €ëŠ” ì´ë¯¸ ë°œê¸‰ ì„±ê³µì„ ë°›ì•˜ëŠ”ë° ì¿ í° í‹°ì¼“ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì„œë¹„ìŠ¤ì˜ ì‹ ë¢°ë„ê°€ í•˜ë½ ë  ê²ƒì´ë‹¤.</li>\n</ul>\n<h3 id=\"ë‹¨ìˆœí™”-í•˜ì\" style=\"position:relative;\"><a href=\"#%EB%8B%A8%EC%88%9C%ED%99%94-%ED%95%98%EC%9E%90\" aria-label=\"ë‹¨ìˆœí™” í•˜ì permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë‹¨ìˆœí™” í•˜ì</h3>\n<ol>\n<li>ì¿ í° ë°œí–‰ ì…ì¥\n<ul>\n<li>ì¿ í°ì„ ë°œí–‰ë§Œ í•œë‹¤.</li>\n</ul>\n</li>\n<li>ì¿ í°ì „ë‹¬ ì…ì¥\n<ul>\n<li>ì¿ í°ì´ ìˆìœ¼ë©´ ì „ë‹¬ë§Œí•œë‹¤.</li>\n</ul>\n</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 38.888888888888886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABBUlEQVQoz31S2W6EMAzM//8Lb4hXvoEHKKrKqgi2LPd9LjDVRGKVpagjRUkcezy2I7quQ1VVWJYFxL7vf/azTbWra11XiCzLEIYhSHw4Pp/LJQHBxAycpgllWUoxKgQNaZqiKIpXgG3biB4PeQ+CALquy3OSJLAsC3VdS0LGDsOAnyhCnCQwTROCWdq2lYR0GscRX94NrvuJbVvhOA4Mw5CEzocLz7thHCdJRFDtt+8jDO/QNA2CWVkuiQ+nA3yjQibzff/tre/7txYQVC7yPMc8zy+no8HbtuEM1U4RbBVnQNKjx6JpGlmqSvjfJNWJU4j6O7gE5bK0OI5B8qsvc0V2Vn7svzS6bD1eiBdPAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"coupon 2 08\"\n        title=\"coupon 2 08\"\n        src=\"/static/53fbd366ad0e906d67cb7e12c41f5b86/37523/coupon-2-08.png\"\n        srcset=\"/static/53fbd366ad0e906d67cb7e12c41f5b86/e9ff0/coupon-2-08.png 180w,\n/static/53fbd366ad0e906d67cb7e12c41f5b86/f21e7/coupon-2-08.png 360w,\n/static/53fbd366ad0e906d67cb7e12c41f5b86/37523/coupon-2-08.png 720w,\n/static/53fbd366ad0e906d67cb7e12c41f5b86/302a4/coupon-2-08.png 1080w,\n/static/53fbd366ad0e906d67cb7e12c41f5b86/21b4d/coupon-2-08.png 1280w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3 id=\"ì„¤ëª…\" style=\"position:relative;\"><a href=\"#%EC%84%A4%EB%AA%85\" aria-label=\"ì„¤ëª… permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì„¤ëª…</h3>\n<ol>\n<li>ì„œë²„ì˜ ì…ì¥ì—ì„œëŠ” ì¿ í°ì´ ìˆìœ¼ë©´ Queue ì €ì¥ì†Œì—ì„œ ë¹¼ì„œ ì „ë‹¬ë§Œí•˜ë©´ ëœë‹¤.</li>\n<li>ë°œê¸‰ ì„œë²„ëŠ” ì¿ í°ì„ ë°œê¸‰ í•˜ê¸°ë§Œ í•˜ë©´ ëœë‹¤.</li>\n</ol>\n<h2 id=\"ë‹¤ìŒ-í¬ìŠ¤íŒ…ì—ì„œëŠ”\" style=\"position:relative;\"><a href=\"#%EB%8B%A4%EC%9D%8C-%ED%8F%AC%EC%8A%A4%ED%8C%85%EC%97%90%EC%84%9C%EB%8A%94\" aria-label=\"ë‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œëŠ” permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œëŠ”â€¦</h2>\n<p>ê¸€ë¡œë²Œ ìºì‰¬ë¡œ ë ˆë””ìŠ¤ë¥¼ ì‚¬ìš©í•´ë´ì•¼ê² ë‹¤.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EC%83%88%EB%A1%9C%EC%9A%B4-%EC%9A%94%EA%B5%AC%EC%82%AC%ED%95%AD\">ìƒˆë¡œìš´ ìš”êµ¬ì‚¬í•­</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%84%B8%ED%8C%85%ED%95%98%EA%B8%B0\">ì„¸íŒ…í•˜ê¸°</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%B0%9C%EA%B8%89-%EC%84%9C%EB%B9%84%EC%8A%A4\">ë°œê¸‰ ì„œë¹„ìŠ¤</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%8F%99%EC%8B%9C-%EC%9A%94%EC%B2%AD-%ED%85%8C%EC%8A%A4%ED%8A%B8\">ë™ì‹œ ìš”ì²­ í…ŒìŠ¤íŠ¸</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%A4%91%EA%B0%84%EC%A0%90%EA%B2%80\">ì¤‘ê°„ì ê²€</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%84%9C%EB%B2%84-%EB%B6%80%ED%95%98-%ED%85%8C%EC%8A%A4%ED%8A%B8%EB%A5%BC-%EC%9C%84%ED%95%9C-%EC%A4%80%EB%B9%84\">ì„œë²„ ë¶€í•˜ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì¤€ë¹„</a></p>\n<ul>\n<li><a href=\"#%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC\">ì»¨íŠ¸ë¡¤ëŸ¬</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%B6%80%ED%95%98-%ED%85%8C%EC%8A%A4%ED%8A%B8\">ë¶€í•˜ í…ŒìŠ¤íŠ¸</a></p>\n<ul>\n<li><a href=\"#k6-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8\">K6 í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸</a></li>\n<li><a href=\"#%EB%B6%80%ED%95%98%EB%A1%9C%EC%A7%81%EC%9D%84-%EB%B9%84%EB%8F%99%EA%B8%B0-%EC%B2%98%EB%A6%AC%EB%A1%9C\">ë¶€í•˜ë¡œì§ì„ ë¹„ë™ê¸° ì²˜ë¦¬ë¡œ</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%98%84%EC%9E%AC-%EB%AC%B8%EC%A0%9C%EC%A0%90\">í˜„ì¬ ë¬¸ì œì </a></p>\n<ul>\n<li><a href=\"#%EB%8B%A8%EC%88%9C%ED%99%94-%ED%95%98%EC%9E%90\">ë‹¨ìˆœí™” í•˜ì</a></li>\n<li><a href=\"#%EC%84%A4%EB%AA%85\">ì„¤ëª…</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%8B%A4%EC%9D%8C-%ED%8F%AC%EC%8A%A4%ED%8C%85%EC%97%90%EC%84%9C%EB%8A%94\">ë‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œëŠ”â€¦</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"May 21, 2023","title":"ì¿ í° ë°œê¸‰ (2) - ë¶€í•˜í…ŒìŠ¤íŠ¸","categories":"ì‹œë¦¬ì¦ˆ","author":"wooobo","emoji":"2ï¸âƒ£"},"fields":{"slug":"/series/coupon/coupon2/"}},"site":{"siteMetadata":{"siteUrl":"https://wooobo.github.io","comments":{"utterances":{"repo":""}}}}},"pageContext":{"slug":"/series/coupon/coupon1/","nextSlug":"/what-is-di/2023-05-16-Ioc/","prevSlug":"/series/coupon/coupon2/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}